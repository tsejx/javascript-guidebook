(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{370:function(r,e,t){"use strict";t.r(e);var a=t(0),s=Object(a.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"csrf-æ”»å‡»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#csrf-æ”»å‡»"}},[r._v("#")]),r._v(" CSRF æ”»å‡»")]),r._v(" "),t("p",[r._v("è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆCross-site request forgeryï¼ŒCSRFï¼‰æ˜¯ä¸€ç§æŒŸåˆ¶ç”¨æˆ·åœ¨å½“å‰å·²ç™»å½•çš„ Web åº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œéæœ¬æ„çš„æ“ä½œçš„æ”»å‡»æ–¹æ³•ã€‚")]),r._v(" "),t("p",[r._v("ä¸ "),t("router-link",{attrs:{to:"/computer-networks/frontend-security/xss.html"}},[r._v("XSS")]),r._v(" ç›¸æ¯”ï¼ŒXSS åˆ©ç”¨çš„æ˜¯ç”¨æˆ·å¯¹æŒ‡å®šç½‘ç«™çš„ä¿¡ä»»ï¼ŒCSRF åˆ©ç”¨çš„æ˜¯ç½‘ç«™å¯¹ç”¨æˆ·ç½‘é¡µæµè§ˆå™¨çš„ä¿¡ä»»ã€‚")],1),r._v(" "),t("h2",{attrs:{id:"æ”»å‡»æ–¹å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ”»å‡»æ–¹å¼"}},[r._v("#")]),r._v(" æ”»å‡»æ–¹å¼")]),r._v(" "),t("p",[r._v("CSRF æ¼æ´å³åˆ©ç”¨ç½‘ç«™æƒé™æ ¡éªŒæ¼æ´åœ¨ç”¨æˆ·ä¸çŸ¥è§‰æƒ…å†µä¸‹å‘é€è¯·æ±‚ï¼Œè¾¾åˆ°ã€Œ"),t("strong",[r._v("ä¼ªè£…")]),r._v("ã€ç”¨æˆ·çš„ç›®çš„ã€‚")]),r._v(" "),t("p",[r._v("æ”»å‡»è€…åˆ©ç”¨ CSRF å®ç°çš„æ”»å‡»ä¸»è¦æ–¹å¼ï¼š")]),r._v(" "),t("ul",[t("li",[r._v("æ”»å‡»è€…èƒ½å¤Ÿæ¬ºéª—å—å®³ç”¨æˆ·å®Œæˆè¯¥å—å®³è€…æ‰€å…è®¸çš„ä»»ä¸€çŠ¶æ€æ”¹å˜çš„æ“ä½œ\n"),t("ul",[t("li",[r._v("å¦‚ï¼šæ›´æ–°è´¦å·ç»†èŠ‚ã€å®Œæˆè´­ç‰©ã€æ³¨é”€ç”šè‡³ç™»é™†ç­‰æ“ä½œ")])])]),r._v(" "),t("li",[r._v("è·å–ç”¨æˆ·çš„éšç§æ•°æ®")]),r._v(" "),t("li",[r._v("é…åˆå…¶ä»–æ¼æ´æ”»å‡»")]),r._v(" "),t("li",[r._v("CSRF è •è™«")])]),r._v(" "),t("h2",{attrs:{id:"æ”»å‡»ç‰¹ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ”»å‡»ç‰¹ç‚¹"}},[r._v("#")]),r._v(" æ”»å‡»ç‰¹ç‚¹")]),r._v(" "),t("ul",[t("li",[r._v("æ”»å‡»ä¸€èˆ¬å‘èµ·åœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œè€Œä¸æ˜¯è¢«æ”»å‡»çš„ç½‘ç«™ã€‚è¢«æ”»å‡»çš„ç½‘ç«™æ— æ³•é˜²æ­¢æ”»å‡»å‘ç”Ÿ")]),r._v(" "),t("li",[r._v("æ”»å‡»åˆ©ç”¨å—å®³è€…è¢«æ”»å‡»ç½‘ç«™çš„ç™»å½•å‡­è¯ï¼Œå†’å……å—å®³è€…æäº¤æ“ä½œï¼Œ=è€Œä¸æ˜¯ç›´æ¥çªƒå–æ•°æ®")]),r._v(" "),t("li",[r._v("æ•´ä¸ªè¿‡ç¨‹æ”»å‡»è€…å¹¶ä¸èƒ½è·å–åˆ°å—å®³è€…çš„ç™»å½•å‡­è¯ï¼Œä»…ä»…æ˜¯ã€Œå†’ç”¨ã€")])]),r._v(" "),t("p",[r._v("CSRF æ”»å‡»æ—¶é»‘å®¢å€ŸåŠ©å—å®³è€…çš„ Cookie éª—å–æœåŠ¡å™¨çš„ä¿¡ä»»ï¼Œä½†æ˜¯é»‘å®¢å¹¶ä¸èƒ½æ‹¿åˆ° Cookieï¼Œä¹Ÿçœ‹ä¸åˆ° Cookie çš„å†…å®¹ã€‚")]),r._v(" "),t("p",[r._v("å¦å¤–ï¼Œå¯¹äºæœåŠ¡å™¨è¿”å›çš„ç»“æœï¼Œç”±äºæµè§ˆå™¨åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œé»‘å®¢ä¹Ÿæ— æ³•è¿›è¡Œè§£æã€‚å› æ­¤ï¼Œé»‘å®¢æ— æ³•ä»è¿”å›çš„ç»“æœä¸­å¾—åˆ°ä»»ä½•ä¸œè¥¿ï¼Œä»–æ‰€èƒ½åšçš„å°±æ˜¯ç»™æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä»¥æ‰§è¡Œè¯·æ±‚ä¸­æ‰€æè¿°çš„å‘½ä»¤ï¼Œåœ¨æœåŠ¡å™¨ç«¯ç›´æ¥æ”¹å˜æ•°æ®çš„å€¼ï¼Œè€Œéçªƒå–æœåŠ¡å™¨ä¸­çš„æ•°æ®ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ä¿æŠ¤çš„å¯¹è±¡æ˜¯é‚£äº›å¯ä»¥ç›´æ¥äº§ç”Ÿæ•°æ®æ”¹å˜çš„æœåŠ¡ï¼Œè€Œå¯¹äºè¯»å–æ•°æ®çš„æœåŠ¡ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œ CSRF çš„ä¿æŠ¤ã€‚æ¯”å¦‚é“¶è¡Œç³»ç»Ÿä¸­è½¬è´¦çš„è¯·æ±‚ä¼šç›´æ¥æ”¹å˜è´¦æˆ·çš„é‡‘é¢ï¼Œä¼šé­åˆ° CSRF æ”»å‡»ï¼Œéœ€è¦ä¿æŠ¤ã€‚è€ŒæŸ¥è¯¢é‡‘é¢æ˜¯å¯¹é‡‘é¢çš„è¯»å–æ“ä½œï¼Œä¸ä¼šæ”¹å˜æ•°æ®ï¼ŒCSRF æ”»å‡»æ— æ³•è§£ææœåŠ¡å™¨è¿”å›çš„ç»“æœï¼Œæ— éœ€ä¿æŠ¤ã€‚")]),r._v(" "),t("h2",{attrs:{id:"é˜²å¾¡ç­–ç•¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é˜²å¾¡ç­–ç•¥"}},[r._v("#")]),r._v(" é˜²å¾¡ç­–ç•¥")]),r._v(" "),t("p",[r._v("CSRF é€šå¸¸ä»ç¬¬ä¸‰æ–¹ç½‘ç«™å‘èµ·ï¼Œè¢«æ”»å‡»ç½‘ç«™æ— æ³•é˜²æ­¢æ”»å‡»å‘ç”Ÿï¼Œåªèƒ½é€šè¿‡å¢å¼ºè‡ªå·±ç½‘ç«™é’ˆå¯¹ CSRF çš„é˜²æŠ¤èƒ½åŠ›æ¥æå‡å®‰å…¨æ€§ã€‚")]),r._v(" "),t("p",[r._v("é’ˆå¯¹ CSRF çš„ç‰¹ç‚¹åˆ¶å®šé˜²æŠ¤ç­–ç•¥ï¼š")]),r._v(" "),t("ul",[t("li",[r._v("é˜»æ­¢ä¸æ˜å¤–åŸŸè®¿é—®\n"),t("ul",[t("li",[r._v("åŒæºæ£€æµ‹æœºåˆ¶\n"),t("ul",[t("li",[r._v("Origin")]),r._v(" "),t("li",[r._v("Referrer")])])])])]),r._v(" "),t("li",[r._v("æäº¤æ—¶è¦æ±‚é™„åŠ æœ¬åŸŸæ‰èƒ½è·å–çš„ä¿¡æ¯\n"),t("ul",[t("li",[r._v("é¢å¤–éªŒè¯æœºåˆ¶")])])]),r._v(" "),t("li",[r._v("ä¿è¯ç½‘ç»œè¯·æ±‚ç”±çœŸå®ç”¨æˆ·å‘å‡º\n"),t("ul",[t("li",[r._v("ç”¨æˆ·æ“ä½œé™åˆ¶")])])])]),r._v(" "),t("h3",{attrs:{id:"åŒæºæ£€æµ‹æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŒæºæ£€æµ‹æœºåˆ¶"}},[r._v("#")]),r._v(" åŒæºæ£€æµ‹æœºåˆ¶")]),r._v(" "),t("p",[r._v("æ—¢ç„¶ CSRF å¤§å¤šæ¥è‡ªç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç›´æ¥ç¦æ­¢å¤–åŸŸï¼ˆæˆ–è€…ä¸å—ä¿¡ä»»çš„åŸŸåï¼‰å¯¹æˆ‘ä»¬å‘èµ·è¯·æ±‚ã€‚")]),r._v(" "),t("p",[r._v("åœ¨ HTTP åè®®ä¸­ï¼Œæ¯ä¸ªä¸€éƒ¨è¯·æ±‚éƒ½ä¼šæºå¸¦ä¸¤ä¸ª Headerï¼Œç”¨äºæ ‡è®°æ¥æºåŸŸåï¼š")]),r._v(" "),t("ul",[t("li",[r._v("Origin Header")]),r._v(" "),t("li",[r._v("Referrer Header")])]),r._v(" "),t("p",[r._v("è¿™ä¸¤ä¸ª Header åœ¨æµè§ˆå™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œå¤§å¤šæ•°æƒ…å†µä¼šè‡ªåŠ¨å¸¦ä¸Šï¼Œå¹¶ä¸”ä¸èƒ½ç”±å‰ç«¯è‡ªå®šä¹‰å†…å®¹ã€‚æœåŠ¡å™¨å¯ä»¥é€šè¿‡è§£æè¿™ä¸¤ä¸ª Header ä¸­çš„åŸŸåï¼Œç¡®å®šè¯·æ±‚çš„æ¥æºåŸŸã€‚")]),r._v(" "),t("h4",{attrs:{id:"origin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#origin"}},[r._v("#")]),r._v(" Origin")]),r._v(" "),t("p",[r._v("ä½¿ç”¨ Origin Header ç¡®å®šæ¥æºåŸŸåã€‚")]),r._v(" "),t("p",[r._v("åœ¨éƒ¨åˆ†ä¸ CSRF æœ‰å…³çš„è¯·æ±‚ä¸­ï¼Œè¯·æ±‚çš„ Header ä¸­ä¼šæºå¸¦ Origin å­—æ®µã€‚å­—æ®µå†…åŒ…å«è¯·æ±‚çš„åŸŸåï¼Œä¸åŒ…å« "),t("code",[r._v("path")]),r._v(" åŠ "),t("code",[r._v("query")]),r._v(" éƒ¨åˆ†ã€‚")]),r._v(" "),t("div",{staticClass:"language-http extra-class"},[t("pre",{pre:!0,attrs:{class:"language-http"}},[t("code",[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[r._v("Origin:")]),r._v(" http://foo.example\n")])])]),t("p",[r._v("å¦‚æœ Origin å­˜åœ¨ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ Origin ä¸­çš„å­—æ®µç¡®è®¤æ¥æºåŸŸåå°±å¯ä»¥ã€‚")]),r._v(" "),t("p",[r._v("ä½†æ˜¯ Origin åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹å¹¶ä¸å­˜åœ¨ï¼š")]),r._v(" "),t("ul",[t("li",[r._v("IE11 åŒæºç­–ç•¥ï¼šIE11 ä¸ä¼šåœ¨è·¨ç«™ CORS è¯·æ±‚ä¸Šæ·»åŠ  Origin æ ‡å¤´ï¼ŒReferrer å¤´ä»ç„¶æ˜¯å”¯ä¸€çš„æ ‡è¯†ã€‚æœ€æ ¹æœ¬åŸå› æ˜¯å› ä¸º IE11 å¯¹åŒæºçš„å®šä¹‰å’Œå…¶ä»–æµè§ˆå™¨ä¸åŒï¼Œæœ‰ä¸¤ä¸ªä¸»è¦çš„åŒºåˆ«ï¼Œå¯ä»¥å‚è€ƒ "),t("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FSecurity%2FSame-origin_policy%23IE_Exceptions",target:"_blank",rel:"noopener noreferrer"}},[r._v("MDN Same-origin_policy#IE_Exceptions"),t("OutboundLink")],1)]),r._v(" "),t("li",[r._v("302 é‡å®šå‘ï¼šåœ¨ 302 é‡å®šå‘ä¹‹å Origin ä¸åŒ…å«åœ¨é‡å®šå‘çš„è¯·æ±‚ä¸­ï¼Œå› ä¸º Origin å¯èƒ½ä¼šè¢«è®¤ä¸ºæ˜¯å…¶ä»–æ¥æºçš„æ•æ„Ÿä¿¡æ¯ã€‚å¯¹äº 302 é‡å®šå‘çš„æƒ…å†µæ¥è¯´éƒ½æ˜¯å®šå‘åœ¨æ–°çš„æœåŠ¡å™¨ä¸Šçš„ URLï¼Œå› æ­¤æµè§ˆå™¨ä¸æƒ³å°† Origin æ³„æ¼åˆ°æ–°çš„æœåŠ¡å™¨ä¸Šã€‚")])]),r._v(" "),t("h4",{attrs:{id:"referrer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#referrer"}},[r._v("#")]),r._v(" Referrer")]),r._v(" "),t("p",[r._v("æ ¹æ® HTTP åè®®ï¼Œåœ¨ HTTP å¤´ä¸­æœ‰ä¸€ä¸ªå­—æ®µå«  Referrerï¼Œè®°å½•äº†è¯¥ HTTP è¯·æ±‚çš„æ¥æºåœ°å€ã€‚")]),r._v(" "),t("ul",[t("li",[r._v("å¯¹äº Ajax è¯·æ±‚ï¼Œå›¾ç‰‡å’Œè„šæœ¬æ–‡ä»¶ç­‰èµ„æºè¯·æ±‚ï¼ŒReferrer ä¸ºå‘èµ·è¯·æ±‚çš„é¡µé¢åœ°å€ã€‚")]),r._v(" "),t("li",[r._v("å¯¹äºé¡µé¢è·³è½¬ï¼ŒReferrer ä¸ºæ‰“å¼€é¡µé¢å†å²è®°å½•çš„å‰ä¸€é¡µé¢åœ°å€ã€‚")])]),r._v(" "),t("p",[r._v("å› æ­¤æˆ‘ä»¬ä½¿ç”¨ Referrer ä¸­é“¾æ¥çš„ Origin éƒ¨åˆ†å¯ä»¥å¾—åˆ°"),t("strong",[r._v("è¯·æ±‚çš„æ¥æºåŸŸå")]),r._v("ã€‚")]),r._v(" "),t("p",[r._v("è¿™ç§æ–¹æ³•å¹¶éä¸‡æ— ä¸€å¤±ï¼ŒReferrer çš„å€¼æ˜¯ç”±æµè§ˆå™¨æä¾›çš„ï¼Œè™½ç„¶ HTTP åè®®ä¸Šæœ‰æ˜ç¡®çš„è¦æ±‚ï¼Œä½†æ˜¯æ¯ä¸ªæµè§ˆå™¨å¯¹äº Referrer çš„å…·ä½“å®ç°å¯èƒ½æœ‰å·®åˆ«ï¼Œå¹¶ä¸èƒ½ä¿è¯æµè§ˆå™¨è‡ªèº«æ²¡æœ‰å®‰å…¨æ¼æ´ã€‚ä½¿ç”¨éªŒè¯ Referrer å€¼çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠå®‰å…¨æ€§éƒ½ä¾èµ–äºç¬¬ä¸‰æ–¹ï¼ˆå³æµè§ˆå™¨ï¼‰æ¥ä¿éšœï¼Œä»ç†è®ºä¸Šæ¥è®²ï¼Œè¿™æ ·å¹¶ä¸æ˜¯å¾ˆå®‰å…¨ã€‚åœ¨éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯ä»¥éšè—ï¼Œç”šè‡³ä¿®æ”¹è‡ªå·±è¯·æ±‚çš„ Referrerã€‚")]),r._v(" "),t("p",[r._v("æ–°ç‰ˆ Referrer Policy è§„å®šäº†äº”ç§ Referrer ç­–ç•¥ï¼šNo Referrerã€No Referrer When Downgradeã€Origin Onlyã€Origin When Cross-orgin å’Œ Unsafe URLã€‚")]),r._v(" "),t("p",[t("strong",[r._v("ä½¿ç”¨ Referer Policy çš„æ–¹å¼")])]),r._v(" "),t("ol",[t("li",[r._v("CSP å“åº”å¤´ï¼Œé€šè¿‡ "),t("code",[r._v("referrer")]),r._v(" æŒ‡ä»¤å’Œäº”ç§å¯é€‰çš„æŒ‡ä»¤å€¼ï¼Œæ¥æŒ‡å®š Referrer ç­–ç•¥")])]),r._v(" "),t("div",{staticClass:"language-http extra-class"},[t("pre",{pre:!0,attrs:{class:"language-http"}},[t("code",[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[r._v("Content-Security-Policy:")]),r._v(" referrer no-referrer|no-referrer-when-downgrade|origin|origin-when-cross-origin|unsafe-url;\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[t("code",[r._v("<meta>")]),r._v(" æ ‡ç­¾ä¹Ÿå¯ä»¥æŒ‡å®š Referrer ç­–ç•¥")])]),r._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("<")]),r._v("meta")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[r._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')]),r._v("referrer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')])]),r._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[r._v("content")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')]),r._v("no-referrer|no-referrer-when-downgrade|origin|origin-when-crossorigin|unsafe-url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(">")])]),r._v("\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[t("code",[r._v("<a>")]),r._v(" æ ‡ç­¾çš„ "),t("code",[r._v("referrer")]),r._v(" å±æ€§")])]),r._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("<")]),r._v("a")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[r._v("href")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')]),r._v("http://example.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')])]),r._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[r._v("referrer")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')]),r._v("no-referrer|origin|unsafe-url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(">")])]),r._v("xxx"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("</")]),r._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(">")])]),r._v("\n")])])]),t("p",[r._v("è¿™ç§æ–¹å¼ä½œç”¨çš„åªæ˜¯è¿™ä¸€ä¸ªé“¾æ¥ã€‚å¹¶ä¸”ï¼Œ"),t("code",[r._v("<a>")]),r._v(" æ ‡ç­¾å¯ç”¨çš„ Referrer ç­–ç•¥åªæœ‰ä¸‰ç§ï¼šä¸ä¼ ã€åªä¼  host å’Œéƒ½ä¼ ã€‚å¦å¤–ï¼Œè¿™æ ·é’ˆå¯¹å•ä¸ªé“¾æ¥è®¾ç½®çš„ç­–ç•¥ä¼˜å…ˆçº§æ¯” CSP å’Œ "),t("code",[r._v("<meta>")]),r._v(" è¦é«˜ã€‚")]),r._v(" "),t("p",[r._v("â“ "),t("strong",[r._v("æ— æ³•ç¡®è®¤æ¥æºåŸŸåæƒ…å†µ")])]),r._v(" "),t("p",[r._v("å½“ Origin å’Œ Referrer å¤´æ–‡ä»¶ä¸å­˜åœ¨æ—¶è¯¥æ€ä¹ˆåŠï¼Ÿ")]),r._v(" "),t("p",[r._v("å¦‚æœ Origin å’Œ Referrer éƒ½ä¸å­˜åœ¨ï¼Œå»ºè®®ç›´æ¥è¿›è¡Œé˜»æ­¢ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨éšæœº CSRF Token ä½œä¸ºç¬¬äºŒæ¬¡æ£€æŸ¥ã€‚")]),r._v(" "),t("h3",{attrs:{id:"é¢å¤–éªŒè¯æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é¢å¤–éªŒè¯æœºåˆ¶"}},[r._v("#")]),r._v(" é¢å¤–éªŒè¯æœºåˆ¶")]),r._v(" "),t("p",[r._v("å‰é¢è®²åˆ° CSRF çš„å¦ä¸€ä¸ªç‰¹å¾æ˜¯ï¼Œæ”»å‡»è€…æ— æ³•ç›´æ¥çªƒå–åˆ°ç”¨æˆ·çš„ä¿¡æ¯ï¼ˆCookieï¼ŒHeaderï¼Œç½‘ç«™å†…å®¹ç­‰ï¼‰ï¼Œä»…ä»…æ˜¯å†’ç”¨ Cookie ä¸­çš„ä¿¡æ¯ã€‚")]),r._v(" "),t("p",[r._v("è€Œ CSRF æ”»å‡»ä¹‹æ‰€ä»¥èƒ½å¤ŸæˆåŠŸï¼Œæ˜¯å› ä¸ºæœåŠ¡å™¨è¯¯æŠŠæ”»å‡»è€…å‘é€çš„è¯·æ±‚å½“æˆäº†ç”¨æˆ·è‡ªå·±çš„è¯·æ±‚ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¦æ±‚æ‰€æœ‰çš„ç”¨æˆ·è¯·æ±‚éƒ½æºå¸¦ä¸€ä¸ª CSRF æ”»å‡»è€…æ— æ³•è·å–åˆ°çš„ Tokenã€‚æœåŠ¡å™¨é€šè¿‡æ ¡éªŒè¯·æ±‚æ˜¯å¦æºå¸¦æ­£ç¡®çš„ Tokenï¼Œæ¥æŠŠæ­£å¸¸çš„è¯·æ±‚å’Œæ”»å‡»çš„è¯·æ±‚åŒºåˆ†å¼€ï¼Œä»¥èµ·åˆ°é˜²èŒƒ CSRF çš„æ”»å‡»ã€‚")]),r._v(" "),t("p",[t("strong",[r._v("éšæœºå­—ç¬¦ä¸²")])]),r._v(" "),t("p",[r._v("ä¸ºæ¯ä¸€ä¸ªæäº¤å¢åŠ ä¸€ä¸ªéšæœºä¸²å‚æ•°ï¼Œè¯¥å‚æ•°æœåŠ¡ç«¯é€šè¿‡é¡µé¢ä¸‹å‘ï¼Œæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™è¡¥å……åˆ°æäº¤å‚æ•°ä¸­ï¼ŒæœåŠ¡ç«¯é€šè¿‡æ ¡éªŒè¯¥å‚æ•°æ˜¯å¦ä¸€è‡´æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ç”¨æˆ·è¯·æ±‚ã€‚ç”±äº CSRF æ”»å‡»ä¸­æ”»å‡»è€…æ˜¯æ— ä»äº‹å…ˆå¾—çŸ¥è¯¥éšæœºå­—ç¬¦ä¸²çš„å€¼ï¼Œæ‰€ä»¥æœåŠ¡ç«¯å°±å¯ä»¥é€šè¿‡æ ¡éªŒè¯¥å€¼æ‹’ç»è¯·æ±‚ã€‚")]),r._v(" "),t("p",[t("strong",[r._v("JSON ç½‘ç»œä»¤ç‰Œ")])]),r._v(" "),t("p",[r._v("å®é™…ä¸Šé™¤äº† session ç™»é™†ä¹‹å¤–ï¼Œç°åœ¨è¶Šæ¥è¶Šæµè¡Œ JWTï¼ˆJSON Web Tokenï¼‰ ç™»å½•æ ¡éªŒã€‚è¯¥æ–¹å¼æ˜¯åœ¨å‰ç«¯è®°å½•ç™»é™† Tokenï¼Œæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™é€šè¿‡åœ¨ Header ä¸­æ·»åŠ è®¤è¯å¤´çš„æ–¹å¼æ¥å®ç°ç™»å½•æ ¡éªŒè¿‡ç¨‹ã€‚ç”±äº CSRF æ”»å‡»ä¸­æ”»å‡»è€…æ— æ³•çŸ¥é“è¯¥ Token å€¼ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥é˜²æ­¢ CSRF æ”»å‡»ã€‚")]),r._v(" "),t("h3",{attrs:{id:"ç”¨æˆ·æ“ä½œé™åˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨æˆ·æ“ä½œé™åˆ¶"}},[r._v("#")]),r._v(" ç”¨æˆ·æ“ä½œé™åˆ¶")]),r._v(" "),t("p",[r._v("CSRF æ”»å‡»è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·æ˜¯åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ„é€ äº†ç½‘ç»œè¯·æ±‚ï¼Œå› æ­¤æ·»åŠ éªŒè¯ç èƒ½å¼ºåˆ¶ç”¨æˆ·å¿…é¡»ä¸åº”ç”¨è¿›è¡Œäº¤äº’ï¼ŒæœåŠ¡å™¨é€šè¿‡éªŒè¯ç æ¥è¯†åˆ«æ˜¯ä¸æ˜¯ç”¨æˆ·ä¸»åŠ¨å‘é€çš„è¯·æ±‚ï¼Œç”±äºä¸€å®šå¼ºåº¦çš„éªŒè¯ç æœºå™¨æ— æ³•è¯†åˆ«ï¼Œå› æ­¤å±é™©ç½‘ç«™ä¸èƒ½ä¼ªé€ ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚ã€‚")]),r._v(" "),t("ul",[t("li",[r._v("ä¼˜ç‚¹ï¼šç®€æ´æœ‰æ•ˆï¼Œä½æˆæœ¬")]),r._v(" "),t("li",[r._v("ç¼ºç‚¹ï¼šå¯¹ç”¨æˆ·ä¸å‹å¥½ï¼Œæ— æ³•ç»™æ‰€æœ‰çš„æ“ä½œéƒ½åŠ ä¸ŠéªŒè¯ç ")])]),r._v(" "),t("hr"),r._v(" "),t("p",[t("strong",[r._v("å‚è€ƒèµ„æ–™")])]),r._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://juejin.im/post/5bc009996fb9a05d0a055192",target:"_blank",rel:"noopener noreferrer"}},[r._v("ğŸ“ å‰ç«¯å®‰å…¨ç³»åˆ—ï¼šå¦‚ä½•é˜²æ­¢ CSRF æ”»å‡»?"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/entry/58802eb58fd9c50067dd746b",target:"_blank",rel:"noopener noreferrer"}},[r._v("ğŸ“ CSRF æ”»å‡»çš„åº”å¯¹ä¹‹é“"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/entry/5b1e4575f265da6e2c19fd57",target:"_blank",rel:"noopener noreferrer"}},[r._v("ğŸ“ CSRF æ¼æ´è¯¦ç»†è¯´æ˜"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("ğŸ“ JSON Web Token å…¥é—¨æ•™ç¨‹"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=s.exports}}]);