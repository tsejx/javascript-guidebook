(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{632:function(t,a,n){"use strict";n.r(a);var s=n(0),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"事件对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件对象"}},[t._v("#")]),t._v(" 事件对象")]),t._v(" "),n("p",[t._v("在触发 DOM 上的某个事件时，会产生一个事件对象（Event Object），这个对象中包含着所有与事件有关的属性和方法。该对象会作为第一个参数传递给监听函数。")]),t._v(" "),n("ul",[n("li",[t._v("DOM事件模型中的事件对象常用属性方法\n"),n("ul",[n("li",[n("code",[t._v("type")]),t._v("：用于获取事件类型")]),t._v(" "),n("li",[n("code",[t._v("target")]),t._v("：获取事件目标")]),t._v(" "),n("li",[n("code",[t._v("stopPropagation()")]),t._v("：阻止事件冒泡")]),t._v(" "),n("li",[n("code",[t._v("preventDefault()")]),t._v("：阻止默认行为")])])]),t._v(" "),n("li",[t._v("IE事件模型中的事件对象常用属性方法\n"),n("ul",[n("li",[n("code",[t._v("type")]),t._v("：用于获取事件类型")]),t._v(" "),n("li",[n("code",[t._v("srcElement")]),t._v("：获取事件目标")]),t._v(" "),n("li",[n("code",[t._v("cancelBubble")]),t._v("：阻止事件冒泡")]),t._v(" "),n("li",[n("code",[t._v("returnValue")]),t._v("：阻止事件默认行为")])])])]),t._v(" "),n("h3",{attrs:{id:"dom中的事件对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dom中的事件对象"}},[t._v("#")]),t._v(" DOM中的事件对象")]),t._v(" "),n("p",[t._v("兼容 DOM 的浏览器会将一个 "),n("code",[t._v("event")]),t._v(" 对象传入到事件处理程序中。无论指定事件处理程序时使用什么方法（DOM0级或DOM2级），都会传入 "),n("code",[t._v("event")]),t._v(" 对象。")]),t._v(" "),n("p",[t._v("以这种方式提供 "),n("code",[t._v("event")]),t._v(" 对象，可以让 HTML 特性事件处理程序与 JavaScript 函数执行相同的操作。"),n("code",[t._v("event")]),t._v(" 对象包含与创建它的特定事件相关的属性和方法。触发的事件类型不一样。不过，所有事件都会有下表列出的成员。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("属性/方法")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("读/写")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("bubbles")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Boolean")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("表明事件是否冒泡")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("cancelable")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Boolean")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("表明是否可以取消事件的默认行为")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("currentTarget")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Element")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("其事件处理程序当前正在处理事件的那个元素")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("defaultPrevented")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Boolean")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("为 "),n("code",[t._v("true")]),t._v(" 表示已经调用了 "),n("code",[t._v("preventDefault()")]),t._v("（DOM3级事件中新增）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("detail")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Integer")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("与事件相关的细节信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("eventPhase")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Integer")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("调用事件处理程序的阶段：1表示捕获阶段，2表示“处于目标”，3表示冒泡阶段")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("preventDefault()")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Function")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("取消事件的默认行为。如果 "),n("code",[t._v("cancelable")]),t._v(" 是 "),n("code",[t._v("true")]),t._v("，则可以使用这个方法。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("stopImmediatePropagation()")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Function")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("取消事件的进一步捕获或冒泡，同时阻止任何事件处理程序被调用（DOM3级事件中新增）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("stopPropagation()")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Function")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("取消事件的进一步捕获或冒泡。如果bubbles为 "),n("code",[t._v("true")]),t._v("，则可以使用这个方法")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("target")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Element")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("事件的目标")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("trusted")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Boolean")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("为 "),n("code",[t._v("true")]),t._v(" 表示事件是浏览器生成的。为 "),n("code",[t._v("false")]),t._v(" 表示事件是由开发人员通过JavaScript创建的（DOM3级事件中新增）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("被触发的事件的类型")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("view")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("AbstractView")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("只读")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("与事件关联的抽象视图。等同于发生事件的window 对象")])])])]),t._v(" "),n("h4",{attrs:{id:"事件处理程序内部this指向"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件处理程序内部this指向"}},[t._v("#")]),t._v(" 事件处理程序内部this指向")]),t._v(" "),n("p",[t._v("在事件处理程序内部，对象 "),n("code",[t._v("this")]),t._v(" 始终等于 "),n("code",[t._v("currentTarget")]),t._v(" 的值，而 "),n("code",[t._v("tartget")]),t._v(" 则只包含事件的实际目标。如果直接将事件处理程序指定给了目标元素，则 "),n("code",[t._v("this")]),t._v("、"),n("code",[t._v("currentTarget")]),t._v(" 和 "),n("code",[t._v("tartget")]),t._v(" 包含相同的值。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Example")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" doocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myBtn"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTarget "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("当单击这个例子中的按钮时，"),n("code",[t._v("this")]),t._v(" 和 "),n("code",[t._v("currentTarget")]),t._v(" 都等于 "),n("code",[t._v("document.body")]),t._v("，因为事件处理程序是注册到这个元素上的。然而，"),n("code",[t._v("target")]),t._v(" 元素却等于按钮元素，因为它是 "),n("code",[t._v("click")]),t._v(" 事件真正的目标。由于按钮上并没有注册事件处理程序，结果 "),n("code",[t._v("click")]),t._v(" 事件就冒泡到了 "),n("code",[t._v("document.body")]),t._v("，在那里事件才得到了处理。")]),t._v(" "),n("h4",{attrs:{id:"单函数处理多事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#单函数处理多事件"}},[t._v("#")]),t._v(" 单函数处理多事件")]),t._v(" "),n("p",[t._v("在需要通过一个函数处理多个事件时，可以使用 "),n("code",[t._v("type")]),t._v(" 属性。例如：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myBtn"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Clicked"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mouseover"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mouseout"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbtn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouseover "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouseout "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("这个例子定义了一个名为 "),n("code",[t._v("handler")]),t._v(" 的函数，用于处理3种事件："),n("code",[t._v("click")]),t._v("、"),n("code",[t._v("mouseover")]),t._v("和"),n("code",[t._v("mouseout")]),t._v("。当单击按钮时，会出现一个与前面例子中一样的警告框。当按钮移动到按钮上面时，背景颜色应该会变成红色，而当鼠标移动出按钮的范围时，背景颜色应该会恢复为默认值。这里通过检测 "),n("code",[t._v("event.type")]),t._v("属性，让函数能够确定发生了什么事件，并执行相应的操作。")]),t._v(" "),n("h4",{attrs:{id:"阻止浏览器默认行为"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#阻止浏览器默认行为"}},[t._v("#")]),t._v(" 阻止浏览器默认行为")]),t._v(" "),n("p",[t._v("要阻止特定事件的默认行为，可以使用 "),n("code",[t._v("preventDefault()")]),t._v(" 方法。例如，链接的默认行为就是在被单击时会导航到其 "),n("code",[t._v("href")]),t._v(" 特性指定的 URL。如果你想阻止链接导航这一默认行为，那么通过链接的 "),n("code",[t._v("onclick")]),t._v(" 事件处理程序可以取消它。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" link "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myLink"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlink"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 阻止鼠标的默认行为")]),t._v("\n    event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("只有 "),n("code",[t._v("cancelable")]),t._v(" 属性设置为 "),n("code",[t._v("true")]),t._v(" 的事件，才可以使用 "),n("code",[t._v("preventDefault()")]),t._v("来取消其默认行为。")]),t._v(" "),n("h4",{attrs:{id:"阻止事件冒泡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#阻止事件冒泡"}},[t._v("#")]),t._v(" 阻止事件冒泡")]),t._v(" "),n("p",[n("code",[t._v("stopPropagation()")]),t._v(" 方法用于立即停止事件在 DOM 层次中的传播，即取消进一步的事件捕获或冒泡。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPropagation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" event "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event\n    event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stopPropagation "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPropagation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelBubbl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("⚠️ 只有在事件处理程序执行期间，event 对象才会存在。一旦事件处理程序执行完成，event 对象就会被销毁。")]),t._v(" "),n("h3",{attrs:{id:"跨浏览器的事件对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跨浏览器的事件对象"}},[t._v("#")]),t._v(" 跨浏览器的事件对象")]),t._v(" "),n("p",[t._v("虽然 DOM 和 IE 中的 "),n("code",[t._v("event")]),t._v(" 对象不同，但基于它们之间的相似性依旧可以拿出跨浏览器的方案来。IE 中 "),n("code",[t._v("event")]),t._v(" 对象的全部信息和方法 DOM 对象中都有，只不过实现方式不一样。不过，这种对应关系让实现两种事件模型之间的映射非常容易。可以对前面介绍的 EventUtil 对象加以增强，添加如下方法以求同存异。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" EventUtil "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("addHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 省略的代码")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("，\n    \n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" event "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" event "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getTarget")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("srcElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("preventDefault")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("preventDefault"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("returnValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("removeHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 省略的代码")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("stopPropagation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stopPropagation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stopPropagation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelBubble "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("hr"),t._v(" "),n("p",[t._v("参考资料：")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/amandakelake/blog/issues/38",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS事件：捕获与冒泡、事件处理程序、事件对象、跨浏览器、事件委托"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);