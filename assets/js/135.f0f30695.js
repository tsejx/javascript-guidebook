(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{369:function(t,a,s){"use strict";s.r(a);var v=s(0),e=Object(v.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"xss-æ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xss-æ”»å‡»"}},[t._v("#")]),t._v(" XSS æ”»å‡»")]),t._v(" "),s("p",[t._v("XSS æ”»å‡»å…¨ç§°"),s("strong",[t._v("è·¨ç«™è„šæœ¬æ”»å‡»")]),t._v("ï¼ˆCross-Site Scriptingï¼‰ï¼Œé€šå¸¸æŒ‡çš„æ˜¯é€šè¿‡åˆ©ç”¨ç½‘é¡µå¼€å‘æ—¶ç•™ä¸‹çš„æ¼æ´ï¼Œé€šè¿‡å·§å¦™çš„æ–¹æ³•åœ¨ç›®æ ‡ç½‘ç«™ HTML é¡µé¢æ³¨å…¥æ¶æ„æŒ‡ä»¤ä»£ç åˆ°ç½‘é¡µï¼Œä½¿ç”¨ç”¨æˆ·åŠ è½½å¹¶æ‰§è¡Œæ”»å‡»è€…æ¶æ„åˆ¶é€ çš„ç½‘é¡µç¨‹åºã€‚è¿™äº›æ¶æ„ç½‘é¡µç¨‹åºé€šå¸¸æ˜¯ JavaScriptï¼Œä½†å®é™…ä¸Šä¹Ÿå¯ä»¥åŒ…æ‹¬ Javaã€VBScriptã€ActivieXã€Flash æˆ–è€…ç”šè‡³æ˜¯æ™®é€šçš„ HTMLã€‚æ”»å‡»æˆåŠŸåï¼Œæ”»å‡»è€…å¯èƒ½å¾—åˆ°æ›´é«˜çš„æƒé™ï¼ˆå¦‚æ‰§è¡Œä¸€äº›æ“ä½œï¼‰ã€ç§å¯†ç½‘é¡µå†…å®¹ã€ä¼šè¯å’Œ Cookie ç­‰å„ç§å†…å®¹ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("å¸¸è§ XSS æ”»å‡»çš„å±å®³")])]),t._v(" "),s("ol",[s("li",[t._v("ç›—å–å„ç±»ç”¨æˆ·è´¦å·")]),t._v(" "),s("li",[t._v("æ§åˆ¶ä¼ä¸šæ•°æ®ï¼ŒåŒ…æ‹¬è¯»å–ã€ç¯¡æ”¹ã€æ·»åŠ ã€åˆ é™¤ä¼ä¸šæ•æ„Ÿæ•°æ®çš„èƒ½åŠ›")]),t._v(" "),s("li",[t._v("ç›—çªƒä¼ä¸šé‡è¦çš„å…·æœ‰å•†ä¸šä»·å€¼çš„èµ„æ–™")]),t._v(" "),s("li",[t._v("éæ³•è½¬è´¦")]),t._v(" "),s("li",[t._v("å¼ºåˆ¶å‘é€ç”µå­é‚®ä»¶")]),t._v(" "),s("li",[t._v("ç½‘ç«™æŒ‚é©¬")]),t._v(" "),s("li",[t._v("æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶ä»–ç½‘ç«™å‘èµ·æ”»å‡»")])]),t._v(" "),s("h2",{attrs:{id:"åˆ†ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†ç±»"}},[t._v("#")]),t._v(" åˆ†ç±»")]),t._v(" "),s("h3",{attrs:{id:"å­˜å‚¨å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨å‹"}},[t._v("#")]),t._v(" å­˜å‚¨å‹")]),t._v(" "),s("p",[t._v("å­˜å‚¨å‹ XSS æ”»å‡»åˆç§°ä¸º"),s("strong",[t._v("æŒä¹…æ€§è·¨ç«™ç‚¹è„šæœ¬æ”»å‡»")]),t._v("ï¼Œå®ƒä¸€èˆ¬å‘ç”Ÿåœ¨ XSS æ”»å‡»å‘é‡ï¼ˆä¸€èˆ¬æŒ‡ XSS æ”»å‡»ä»£ç ï¼‰å­˜å‚¨åœ¨ç½‘ç«™æ•°æ®åº“ï¼Œå½“ä¸€ä¸ªé¡µé¢è¢«ç”¨æˆ·æ‰“å¼€çš„æ—¶å€™æ‰§è¡Œã€‚æŒä¹…å‹çš„ XSS ç›¸æ¯”éæŒä¹…å‹ XSS æ”»å‡»å±å®³æ€§æ›´å¤§ï¼Œå®¹æ˜“é€ æˆè •è™«ï¼Œå› ä¸ºæ¯å½“ç”¨æˆ·æ‰“å¼€é¡µé¢ï¼ŒæŸ¥çœ‹å†…å®¹æ—¶è„šæœ¬å°†è‡ªåŠ¨æ‰§è¡Œã€‚")]),t._v(" "),s("p",[s("strong",[t._v("æ”»å‡»æ­¥éª¤")])]),t._v(" "),s("ol",[s("li",[t._v("æ”»å‡»è€…å°†æ¶æ„ä»£ç æäº¤åˆ°ç›®æ ‡ç½‘ç«™çš„æ•°æ®åº“ä¸­")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ‰“å¼€ç›®æ ‡ç½‘ç«™æ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä»æ•°æ®åº“å–å‡ºï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£æä¹‹è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œ")]),t._v(" "),s("li",[t._v("æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œ")])]),t._v(" "),s("p",[t._v("è¿™ç§æ”»å‡»å¸¸è§äºå¸¦æœ‰ç”¨æˆ·ä¿å­˜æ•°æ®çš„ç½‘ç«™åŠŸèƒ½ï¼Œå¦‚è®ºå›å‘å¸–ã€å•†å“è¯„è®ºã€ç”¨æˆ·ç§ä¿¡ç­‰ã€‚")]),t._v(" "),s("h3",{attrs:{id:"åå°„å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åå°„å‹"}},[t._v("#")]),t._v(" åå°„å‹")]),t._v(" "),s("p",[t._v("åå°„å‹ XSS æ”»å‡»åˆç§°ä¸º"),s("strong",[t._v("éæŒä¹…æ€§è·¨ç«™ç‚¹è„šæœ¬æ”»å‡»")]),t._v("ã€‚æ¼æ´äº§ç”Ÿçš„åŸå› æ˜¯æ”»å‡»è€…æ³¨å…¥çš„æ•°æ®åæ˜ åœ¨å“åº”ä¸­ã€‚åå°„å‹ XSS æ”»å‡»è¦æ±‚ç”¨æˆ·è®¿é—®ä¸€ä¸ªè¢«æ”»å‡»è€…ç¯¡æ”¹åçš„é“¾æ¥ï¼Œç”¨æˆ·è®¿é—®è¯¥é“¾æ¥æ—¶ï¼Œè¢«æ¤å…¥çš„æ”»å‡»è„šæœ¬è¢«ç”¨æˆ·æµè§ˆå™¨æ‰§è¡Œï¼Œä»è€Œè¾¾åˆ°æ”»å‡»ç›®çš„ã€‚é€šè¿‡ URL å‚æ•°ç›´æ¥æ³¨å…¥ï¼Œç„¶ååœ¨å“åº”çš„æ•°æ®ä¸­åŒ…å«ç€å±é™©çš„ä»£ç ã€‚")]),t._v(" "),s("p",[t._v("ğŸ‘£ "),s("strong",[t._v("æ”»å‡»æ­¥éª¤")])]),t._v(" "),s("ol",[s("li",[t._v("æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šçš„ URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„ URL æ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä» URL ä¸­å–å‡ºï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œ")]),t._v(" "),s("li",[t._v("æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæ´»ç€å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œ")])]),t._v(" "),s("p",[t._v("ğŸ¤¼â€â™‚ï¸ "),s("strong",[t._v("åå°„å‹ XSS è·Ÿå­˜å‚¨å‹ XSS çš„åŒºåˆ«æ˜¯ï¼Ÿ")])]),t._v(" "),s("p",[t._v("å­˜å‚¨å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨æ•°æ®åº“é‡Œï¼Œåå°„å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨ URL é‡Œã€‚")]),t._v(" "),s("p",[t._v("åå°„å‹ XSS æ¼æ´å¸¸è§äºé€šè¿‡ URL ä¼ é€’å‚æ•°çš„åŠŸèƒ½ï¼Œå¦‚ç½‘ç«™æœç´¢ã€è·³è½¬ç­‰ã€‚")]),t._v(" "),s("p",[t._v("ç”±äºéœ€è¦ç”¨æˆ·ä¸»åŠ¨æ‰“å¼€æ¶æ„çš„ URL æ‰èƒ½ç”Ÿæ•ˆï¼Œæ”»å‡»è€…å¾€å¾€ä¼šç»“åˆå¤šç§æ‰‹æ®µè¯±å¯¼ç”¨æˆ·ç‚¹å‡»ã€‚")]),t._v(" "),s("p",[t._v("POST çš„å†…å®¹ä¹Ÿå¯ä»¥è§¦å‘åå°„å‹ XSSï¼Œåªä¸è¿‡å…¶è§¦å‘æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ï¼ˆéœ€è¦æ„é€ è¡¨å•æäº¤é¡µé¢ï¼Œå¹¶å¼•å¯¼ç”¨æˆ·ç‚¹å‡»ï¼‰ï¼Œæ‰€ä»¥éå¸¸å°‘è§ã€‚")]),t._v(" "),s("h3",{attrs:{id:"dom-å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-å‹"}},[t._v("#")]),t._v(" DOM å‹")]),t._v(" "),s("p",[t._v("ğŸ‘£ DOM å‹ XSS çš„æ”»å‡»æ­¥éª¤ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šçš„ URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„ URL")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œå‰ç«¯ JavaScript å–å‡º URL ä¸­çš„æ¶æ„ä»£ç å¹¶æ‰§è¡Œ")]),t._v(" "),s("li",[t._v("æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œ")])]),t._v(" "),s("p",[t._v("DOM å‹ XSS è·Ÿå‰ä¸¤ç§ XSS çš„åŒºåˆ«ï¼šDOM å‹ XSS æ”»å‡»ä¸­ï¼Œå–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç ç”±æµè§ˆå™¨ç«¯å®Œæˆï¼Œå±äºå‰ç«¯ JavaScript è‡ªèº«çš„å®‰å…¨æ¼æ´ï¼Œè€Œå…¶ä»–ä¸¤ç§ XSS éƒ½å±äºæœåŠ¡ç«¯çš„å®‰å…¨æ¼æ´ã€‚")]),t._v(" "),s("h2",{attrs:{id:"é˜²å¾¡ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é˜²å¾¡ç­–ç•¥"}},[t._v("#")]),t._v(" é˜²å¾¡ç­–ç•¥")]),t._v(" "),s("p",[t._v("XSS æ”»å‡»æœ‰ä¸¤å¤§è¦ç´ ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ”»å‡»è€…æäº¤æ¶æ„ä»£ç ")]),t._v(" "),s("li",[t._v("æµè§ˆå™¨æ‰§è¡Œæ¶æ„ä»£ç ")])]),t._v(" "),s("p",[t._v("Chrome æµè§ˆå™¨è‡ªå¸¦é˜²å¾¡ï¼Œå¯æ‹¦æˆªåå°„å‹ XSSï¼ˆHTML å†…å®¹å’Œå±æ€§ï¼‰ï¼ŒJavaScript è„šæœ¬å’Œå¯Œæ–‡æœ¬æ— æ³•æ‹¦æˆªã€‚")]),t._v(" "),s("h3",{attrs:{id:"é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹-xss-æ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹-xss-æ”»å‡»"}},[t._v("#")]),t._v(" é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹ XSS æ”»å‡»")]),t._v(" "),s("p",[t._v("å­˜å‚¨å‹å’Œåå°„å‹ XSS éƒ½æ˜¯åœ¨æœåŠ¡ç«¯å–å‡ºæ¶æ„ä»£ç åï¼Œæ’å…¥åˆ°å“åº” HTML é‡Œçš„ï¼Œæ”»å‡»è€…åˆ»æ„ç¼–å†™çš„ã€Œæ•°æ®ã€è¢«å†…åµŒåˆ°ã€Œä»£ç ã€ä¸­ï¼Œè¢«æµè§ˆå™¨æ‰€æ‰§è¡Œã€‚")]),t._v(" "),s("p",[t._v("é¢„é˜²è¿™ä¸¤ç§æ¼æ´ï¼Œæœ‰ä¸¤ç§å¸¸è§åšæ³•ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ”¹æˆçº¯å‰ç«¯æ¸²æŸ“ï¼ŒæŠŠä»£ç å’Œæ•°æ®åˆ†éš”å¼€ã€‚")]),t._v(" "),s("li",[t._v("å¯¹ HTML åšå……åˆ†è½¬ä¹‰ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"çº¯å‰ç«¯æ¸²æŸ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çº¯å‰ç«¯æ¸²æŸ“"}},[t._v("#")]),t._v(" çº¯å‰ç«¯æ¸²æŸ“")]),t._v(" "),s("p",[t._v("çº¯å‰ç«¯æ¸²æŸ“çš„è¿‡ç¨‹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("æµè§ˆå™¨å…ˆåŠ è½½ä¸€ä¸ªé™æ€ HTMLï¼Œæ­¤ HTML ä¸­ä¸åŒ…å«ä»»ä½•è·Ÿä¸šåŠ¡ç›¸å…³çš„æ•°æ®ã€‚")]),t._v(" "),s("li",[t._v("ç„¶åæµè§ˆå™¨æ‰§è¡Œ HTML ä¸­çš„ JavaScriptã€‚")]),t._v(" "),s("li",[t._v("JavaScript é€šè¿‡ Ajax åŠ è½½ä¸šåŠ¡æ•°æ®ï¼Œè°ƒç”¨ DOM API æ›´æ–°åˆ°é¡µé¢ä¸Šã€‚")])]),t._v(" "),s("p",[t._v("åœ¨çº¯å‰ç«¯æ¸²æŸ“ä¸­ï¼Œæˆ‘ä»¬ä¼šæ˜ç¡®çš„å‘Šè¯‰æµè§ˆå™¨ï¼šä¸‹é¢è¦è®¾ç½®çš„å†…å®¹æ˜¯æ–‡æœ¬ "),s("code",[t._v(".innerText")]),t._v("ï¼Œè¿˜æ˜¯å±æ€§ "),s("code",[t._v(".setAttribute")]),t._v("ï¼Œè¿˜æ˜¯æ ·å¼ "),s("code",[t._v(".style")]),t._v(" ç­‰ç­‰ã€‚å¦‚æ­¤ï¼Œæµè§ˆå™¨ä¸ä¼šè¢«è½»æ˜“åœ°è¢«æ¬ºéª—ï¼Œæ‰§è¡Œé¢„æœŸå¤–çš„ä»£ç ã€‚")]),t._v(" "),s("p",[t._v("ä½†çº¯å‰ç«¯æ¸²æŸ“è¿˜éœ€æ³¨æ„é¿å… DOM å‹ XSS æ¼æ´ï¼ˆä¾‹å¦‚ "),s("code",[t._v("onload")]),t._v(" äº‹ä»¶å’Œ "),s("code",[t._v("href")]),t._v(" ä¸­çš„ "),s("code",[t._v("javascript:xxx")]),t._v(" ç­‰ã€‚")]),t._v(" "),s("p",[t._v("åœ¨å¾ˆå¤šå†…éƒ¨ã€ç®¡ç†ç³»ç»Ÿä¸­ï¼Œé‡‡ç”¨çº¯å‰ç«¯æ¸²æŸ“æ˜¯éå¸¸åˆé€‚çš„ã€‚ä½†å¯¹äºæ€§èƒ½è¦æ±‚é«˜ï¼Œæˆ–æœ‰ SEO éœ€æ±‚çš„é¡µé¢ï¼Œæˆ‘ä»¬ä»ç„¶è¦é¢å¯¹æ‹¼æ¥ HTML çš„é—®é¢˜ã€‚")]),t._v(" "),s("h4",{attrs:{id:"è¾“å…¥è¿‡æ»¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾“å…¥è¿‡æ»¤"}},[t._v("#")]),t._v(" è¾“å…¥è¿‡æ»¤")]),t._v(" "),s("p",[t._v("è¾“å…¥è¿‡æ»¤ï¼Œå¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œæœ‰æ•ˆæ€§éªŒè¯ï¼Œä»…æ¥å—æŒ‡å®šé•¿åº¦èŒƒå›´å†…å¹¶ç¬¦åˆæˆ‘ä»¬æœŸæœ›æ ¼å¼çš„çš„å†…å®¹æäº¤ï¼Œé˜»æ­¢æˆ–è€…å¿½ç•¥é™¤æ­¤å¤–çš„å…¶ä»–ä»»ä½•æ•°æ®ã€‚")]),t._v(" "),s("h4",{attrs:{id:"è¾“å‡ºè½¬ä¹‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾“å‡ºè½¬ä¹‰"}},[t._v("#")]),t._v(" è¾“å‡ºè½¬ä¹‰")]),t._v(" "),s("p",[t._v("è¾“å‡ºè½¬ä¹‰ï¼Œå½“éœ€è¦å°†ä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºåˆ° Web ç½‘é¡µæ—¶ï¼ŒåŒæ—¶åˆä¸ç¡®å®šè¿™ä¸ªå­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…æ‹¬ XSS ç‰¹æ®Šå­—ç¬¦ï¼Œä¸ºäº†ç¡®ä¿è¾“å‡ºå†…å®¹çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§ï¼Œè¾“å‡º HTML å±æ€§æ—¶å¯ä»¥ä½¿ç”¨ HTML è½¬ä¹‰ç¼–ç ï¼ˆHTMLEncodeï¼‰è¿›è¡Œå¤„ç†ï¼Œè¾“å‡ºåˆ° "),s("code",[t._v("<script>")]),t._v(" ä¸­ï¼Œå¯ä»¥è¿›è¡Œ JavaScript ç¼–ç ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœæ‹¼æ¥ HTML æ˜¯å¿…è¦çš„ï¼Œå°±éœ€è¦é‡‡ç”¨åˆé€‚çš„è½¬ä¹‰åº“ï¼Œå¯¹ HTML æ¨¡æ¿å„å¤„æ’å…¥ç‚¹è¿›è¡Œå……åˆ†çš„è½¬ä¹‰ã€‚")]),t._v(" "),s("p",[t._v("å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ï¼Œéœ€è¦é’ˆå¯¹ "),s("code",[t._v("<")]),t._v("ã€"),s("code",[t._v(">")]),t._v("ã€"),s("code",[t._v("/")]),t._v("ã€"),s("code",[t._v("'")]),t._v("ã€"),s("code",[t._v('"')]),t._v(" å’Œ "),s("code",[t._v("&")]),t._v(" äº”ä¸ªå­—ç¬¦è¿›è¡Œå®ä½“åŒ–è½¬ä¹‰ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ç‰¹æ®Šå­—ç¬¦")]),t._v(" "),s("th",[t._v("å®ä½“ç¼–ç ")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("&")])]),t._v(" "),s("td",[s("code",[t._v("&amp;")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("<")])]),t._v(" "),s("td",[s("code",[t._v("&lt;")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v(">")])]),t._v(" "),s("td",[s("code",[t._v("&gt;")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v('"')])]),t._v(" "),s("td",[s("code",[t._v("&quot;")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("'")])]),t._v(" "),s("td",[s("code",[t._v("&#x27;")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("/")])]),t._v(" "),s("td",[s("code",[t._v("&#x2F;")])])])])]),t._v(" "),s("p",[t._v("å¸¸ç”¨çš„æ¨¡æ¿å¼•æ“ï¼Œå¦‚ doT.jsã€"),s("a",{attrs:{href:"https://github.com/mde/ejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ejs"),s("OutboundLink")],1),t._v("ã€FreeMarker ç­‰ï¼Œå¯¹äº HTML è½¬ä¹‰é€šå¸¸åªæœ‰ä¸€ä¸ªè§„åˆ™ï¼Œå°±æ˜¯æŠŠ "),s("code",[t._v("<")]),t._v("ã€"),s("code",[t._v(">")]),t._v("ã€"),s("code",[t._v("/")]),t._v("ã€"),s("code",[t._v("'")]),t._v("ã€"),s("code",[t._v('"')]),t._v(" å’Œ "),s("code",[t._v("&")]),t._v(" è¿™å‡ ä¸ªå­—ç¬¦è½¬ä¹‰æ‰ï¼Œç¡®å®èƒ½èµ·åˆ°ä¸€å®šçš„ XSS é˜²æŠ¤ä½œç”¨ï¼Œä½†å¹¶ä¸å®Œå–„ï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("XSS å®‰å…¨æ¼æ´")]),t._v(" "),s("th",[t._v("ç®€å•è½¬ä¹‰æ˜¯å¦æœ‰é˜²æŠ¤ä½œç”¨")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("HTML æ ‡ç­¾æ–‡å­—å†…å®¹")]),t._v(" "),s("td",[t._v("æœ‰")])]),t._v(" "),s("tr",[s("td",[t._v("HTML å±æ€§å€¼")]),t._v(" "),s("td",[t._v("æœ‰")])]),t._v(" "),s("tr",[s("td",[t._v("CSS å†…è”æ ·å¼")]),t._v(" "),s("td",[t._v("æ— ")])]),t._v(" "),s("tr",[s("td",[t._v("å†…è” JavaScript")]),t._v(" "),s("td",[t._v("æ— ")])]),t._v(" "),s("tr",[s("td",[t._v("å†…è” JSON")]),t._v(" "),s("td",[t._v("æ— ")])]),t._v(" "),s("tr",[s("td",[t._v("è·³è½¬é“¾æ¥")]),t._v(" "),s("td",[t._v("æ— ")])])])]),t._v(" "),s("h3",{attrs:{id:"é¢„é˜²-dom-å‹-xss-æ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢„é˜²-dom-å‹-xss-æ”»å‡»"}},[t._v("#")]),t._v(" é¢„é˜² DOM å‹ XSS æ”»å‡»")]),t._v(" "),s("p",[t._v("DOM å‹ XSS æ”»å‡»ï¼Œå®é™…ä¸Šå°±æ˜¯ç½‘ç«™å‰ç«¯ JavaScript ä»£ç æœ¬èº«ä¸å¤Ÿä¸¥è°¨ï¼ŒæŠŠä¸å¯ä¿¡çš„æ•°æ®å½“ä½œä»£ç æ‰§è¡Œäº†ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ä½¿ç”¨ "),s("code",[t._v(".innerHTML")]),t._v("ã€"),s("code",[t._v(".outerHTML")]),t._v("ã€"),s("code",[t._v("document.write()")]),t._v(" æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œä¸è¦æŠŠä¸å¯ä¿¡çš„æ•°æ®ä½œä¸º HTML æ’åˆ°é¡µé¢ä¸Šï¼Œè€Œåº”å°½é‡ä½¿ç”¨ "),s("code",[t._v(".textContent")]),t._v("ã€"),s("code",[t._v(".setAttribute()")]),t._v(" ç­‰ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœç”¨ Vue / React æŠ€æœ¯æ ˆï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ "),s("code",[t._v("v-html")]),t._v(" / "),s("code",[t._v("dangerouslySetInnerHTML")]),t._v(" åŠŸèƒ½ï¼Œå°±åœ¨å‰ç«¯ render é˜¶æ®µé¿å… "),s("code",[t._v("innerHTML")]),t._v("ã€"),s("code",[t._v("outerHTML")]),t._v(" çš„ XSS éšæ‚£ã€‚")]),t._v(" "),s("p",[t._v("DOM ä¸­çš„å†…è”äº‹ä»¶ç›‘å¬å™¨ï¼Œå¦‚ "),s("code",[t._v("location")]),t._v("ã€"),s("code",[t._v("onclick")]),t._v("ã€"),s("code",[t._v("onerror")]),t._v("ã€"),s("code",[t._v("onload")]),t._v("ã€"),s("code",[t._v("onmouseover")]),t._v(" ç­‰ï¼Œ"),s("code",[t._v("<a>")]),t._v(" æ ‡ç­¾çš„ "),s("code",[t._v("href")]),t._v(" å±æ€§ï¼ŒJavaScript çš„ "),s("code",[t._v("eval()")]),t._v("ã€"),s("code",[t._v("setTimeout()")]),t._v("ã€"),s("code",[t._v("setInterval()")]),t._v(" ç­‰ï¼Œéƒ½èƒ½æŠŠå­—ç¬¦ä¸²ä½œä¸ºä»£ç è¿è¡Œã€‚å¦‚æœä¸å¯ä¿¡çš„æ•°æ®æ‹¼æ¥åˆ°å­—ç¬¦ä¸²ä¸­ä¼ é€’ç»™è¿™äº› APIï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿå®‰å…¨éšæ‚£ï¼Œè¯·åŠ¡å¿…é¿å…ã€‚")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å†…è”äº‹ä»¶ç›‘å¬å™¨ä¸­åŒ…å«æ¶æ„ä»£ç  --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UNTRUSTED"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onerror")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UNTRUSTED"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("data:image/png,"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- é“¾æ¥å†…åŒ…å«æ¶æ„ä»£ç  --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UNTRUSTED"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setTimeout()/setInterval() ä¸­è°ƒç”¨æ¶æ„ä»£ç ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UNTRUSTED"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UNTRUSTED"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// location è°ƒç”¨æ¶æ„ä»£ç ")]),t._v("\nlocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UNTRUSTED'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eval() ä¸­è°ƒç”¨æ¶æ„ä»£ç ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UNTRUSTED"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("å¦‚æœé¡¹ç›®ä¸­æœ‰ç”¨åˆ°è¿™äº›çš„è¯ï¼Œä¸€å®šè¦é¿å…åœ¨å­—ç¬¦ä¸²ä¸­æ‹¼æ¥ä¸å¯ä¿¡æ•°æ®ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å…§å®¹å®‰å…¨ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…§å®¹å®‰å…¨ç­–ç•¥"}},[t._v("#")]),t._v(" å…§å®¹å®‰å…¨ç­–ç•¥")]),t._v(" "),s("p",[s("strong",[t._v("å†…å®¹å®‰å…¨ç­–ç•¥")]),t._v("ï¼ˆContent Security Policyï¼Œç®€ç§° CSPï¼‰æ˜¯ä¸€ç§"),s("strong",[t._v("å¯ä¿¡ç™½åå•")]),t._v("ä½œæœºåˆ¶ï¼Œæ¥é™åˆ¶ç½‘ç«™ä¸­æ˜¯å¦å¯ä»¥åŒ…å«æŸæ¥æºå†…å®¹ã€‚è¯¥åˆ¶åº¦æ˜ç¡®å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå“ªäº›å¤–éƒ¨èµ„æºå¯ä»¥åŠ è½½å’Œæ‰§è¡Œï¼Œç­‰åŒäºæä¾›ç™½åå•ï¼Œå®ƒçš„å®ç°å’Œæ‰§è¡Œå…¨éƒ¨ç”±æµè§ˆå™¨å®Œæˆï¼Œå¼€å‘è€…åªéœ€æä¾›é…ç½®ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("å¯ç”¨ CSP æ–¹å¼")])]),t._v(" "),s("ol",[s("li",[t._v("è®¾ç½® HTTP å¤´ä¿¡æ¯çš„ Content-Security-Policy å­—æ®µ")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("content-security-policy:")]),t._v(" default-scr https:; connect-src https:; font-src https: data:; frame-src https: twitter:; img-src https: data:; media-src https:; object-src https:; script-src 'unsafe-inline' 'unsafe-eval' https:; style-src 'unsafe-inline' https:;\n")])])]),s("blockquote",[s("p",[t._v("Twitter é‡‡ç”¨çš„å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œæœªè¯¦ç»†åˆ—å‡º")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("é€šè¿‡ç½‘é¡µ "),s("code",[t._v("<meta>")]),t._v(" æ ‡ç­¾")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("<meta http-equiv=\"Content-Security-Policy\" content=\"script-src 'self'; object-src 'none'; style-src cdn.example.org third-party.org; child-src https:\"\n")])])]),s("p",[t._v("å¯ç”¨åï¼Œä¸ç¬¦åˆ CSP çš„å¤–éƒ¨èµ„æºå°±ä¼šè¢«é˜»æ­¢åŠ è½½ã€‚")]),t._v(" "),s("p",[t._v("ä¸¥æ ¼çš„ CSP åœ¨ XSS çš„é˜²èŒƒä¸­å¯ä»¥èµ·åˆ°ä¸‹åˆ—çš„ä½œç”¨ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç¦æ­¢åŠ è½½å¤–åŸŸä»£ç ï¼Œé˜²æ­¢å¤æ‚çš„æ”»å‡»é€»è¾‘")]),t._v(" "),s("li",[t._v("ç¦æ­¢å¤–åŸŸæäº¤ï¼Œç½‘ç«™è¢«æ”»å‡»åï¼Œç”¨æˆ·çš„æ•°æ®ä¸ä¼šæ³„æ¼åˆ°å¤–åŸŸ")]),t._v(" "),s("li",[t._v("ç¦æ­¢å†…è”è„šæœ¬æ‰§è¡Œï¼ˆè§„åˆ™è¾ƒä¸¥æ ¼ï¼Œç›®å‰å‘ç° Github ä½¿ç”¨ï¼‰")]),t._v(" "),s("li",[t._v("ç¦æ­¢æœªæˆæƒçš„è„šæœ¬æ‰§è¡Œï¼ˆæ–°ç‰¹æ€§ï¼ŒGoogle Map ç§»åŠ¨ç‰ˆåœ¨ä½¿ç”¨ï¼‰")]),t._v(" "),s("li",[t._v("åˆç†ä½¿ç”¨ä¸ŠæŠ¥å¯ä»¥åŠæ—¶å‘ç° XSSï¼Œåˆ©äºå°½å¿«ä¿®å¤é—®é¢˜")])]),t._v(" "),s("h3",{attrs:{id:"httponly-cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#httponly-cookie"}},[t._v("#")]),t._v(" HTTPOnly Cookie")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ HttpOnly Cookie å°†é‡è¦çš„ Cookie æ ‡è®°ä¸º "),s("code",[t._v("http-only")]),t._v("ï¼Œè¿™æ ·çš„è¯å½“æµè§ˆå™¨å‘ Web æœåŠ¡å™¨å‘èµ·è¯·æ±‚çš„æ—¶å°±ä¼šå¸¦ä¸Š Cookie å­—æ®µï¼Œä½†æ˜¯åœ¨ JavaScript è„šæœ¬ä¸­å´ä¸èƒ½è®¿é—®è¿™ä¸ª Cookieï¼Œè¿™æ ·å°±é¿å…äº† XSS æ”»å‡»åˆ©ç”¨ JavaScript çš„ "),s("code",[t._v("document.cookie")]),t._v(" è·å– Cookieã€‚")]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("å‚è€ƒèµ„æ–™ï¼š")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“– MDN: å†…å®¹å®‰å…¨ç­–ç•¥(CSP)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.im/post/5bad9140e51d450e935c6d64",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ å‰ç«¯å®‰å…¨ç³»åˆ—ï¼šå¦‚ä½•é˜²æ­¢ XSS æ”»å‡»?"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://yq.aliyun.com/articles/638829",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Web å®‰å…¨ç³»åˆ—ï¼šXSS æ”»å‡»åŸºç¡€åŠåŸç†"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://yq.aliyun.com/articles/638935?spm=a2c4e.11153940.blogcont638829.21.74d874d3lHE0qK",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Web å®‰å…¨ç³»åˆ—ï¼šXSS æ”»å‡»è¿›é˜¶"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://yq.aliyun.com/articles/641535?spm=a2c4e.11153940.blogcont638935.16.6e757039SLyW6B",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Web å®‰å…¨ç³»åˆ—ï¼šXSS æ”»å‡»è¿›é˜¶"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/09/csp.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Content Security Policy å…¥é—¨æ•™ç¨‹"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);