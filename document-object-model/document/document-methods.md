# æ–‡æ¡£æ–¹æ³•

| æ–¹æ³•                                    | è¯´æ˜                                                                   |
| --------------------------------------- | ---------------------------------------------------------------------- |
| document.open()                         | æ‰“å¼€ä¸€ä¸ªè¦å†™å…¥çš„æ–‡æ¡£                                                   |
| document.close()                        | å…³é—­ä¸€ä¸ªè¦å†™å…¥çš„æ–‡æ¡£                                                   |
| document.write()                        | å‘å½“å‰æ–‡æ¡£å†™å…¥å†…å®¹                                                     |
| document.writeIn()                      | å‘å½“å‰æ–‡æ¡£å†™å…¥å†…å®¹ï¼Œå°¾éƒ¨æ·»åŠ æ¢è¡Œç¬¦                                     |
| document.elementFromPoint(x,y)          | è·å–æ–‡æ¡£ä¸­ä½äºé¡µé¢æŒ‡å®šä½ç½®æœ€ä¸Šå±‚çš„å­å…ƒç´ èŠ‚ç‚¹                           |
| document.hasFocus()                     | è¡¨ç¤ºå½“å‰æ–‡æ¡£ä¹‹ä¸­æ˜¯å¦æœ‰å…ƒç´ è¢«æ¿€æ´»æˆ–è·å¾—ç„¦ç‚¹                             |
| document.adoptNode(externalNode)        | å°†æŸä¸ªèŠ‚ç‚¹ï¼Œä»å…¶åŸæ¥æ‰€åœ¨çš„æ–‡æ¡£ç§»é™¤ï¼Œæ’å…¥å½“å‰æ–‡æ¡£ï¼Œå¹¶è¿”å›æ’å…¥åçš„æ–°èŠ‚ç‚¹ |
| document.importNode(externalNode, deep) | ä»å¤–éƒ¨æ–‡æ¡£æ‹·è´æŒ‡å®šèŠ‚ç‚¹ï¼Œæ’å…¥å½“å‰æ–‡æ¡£                                   |

## document.open

æ‰“å¼€ä¸€ä¸ªè¦å†™å…¥çš„æ–‡æ¡£ã€‚

è¿™å°†ä¼šæœ‰ä¸€äº›è¿å¸¦çš„å½±å“ã€‚ä¾‹å¦‚ï¼š

- æ­¤æ—¶å·²æ³¨å†Œåˆ°æ–‡æ¡£ã€æ–‡æ¡£ä¸­çš„èŠ‚ç‚¹æˆ–æ–‡æ¡£çš„ Window çš„æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«æ¸…é™¤
- æ–‡æ¡£ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ä¼šè¢«æ¸…é™¤

ğŸ“– **è¯­æ³•ï¼š**

```js
document.open();
```

- å½“ `document.write()` åœ¨é¡µé¢åŠ è½½åè°ƒç”¨ï¼Œä¼šå‘ç”Ÿè‡ªåŠ¨çš„ `document.open()` è°ƒç”¨ã€‚
- ä¸è¦å’Œ `window.open()` æ–¹æ³•æ··æ·†ã€‚`document.open` å¯ç”¨äºé‡å†™å½“å‰çš„æ–‡æ¡£å†…å®¹æˆ–è€…è¿½åŠ å†…å®¹ï¼Œè€Œ `window.open` æ˜¯æä¾›äº†æ‰“å¼€ä¸€ä¸ªæ–°çš„çª—å£çš„æ–¹æ³•ï¼Œå½“å‰çš„ç½‘é¡µæ–‡æ¡£å†…å®¹ç»™ä½ ä¼šè¢«ä¿ç•™ã€‚ç”±äº Window æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨ `open(...)` å’Œ `window.open(...)` çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚

## document.close

ç”¨äºç»“æŸå¯¹æ–‡æ¡£çš„å†™å…¥æ“ä½œï¼Œè¿™ç§å†™å…¥æ“ä½œä¸€èˆ¬ç”± `document.open()` æ‰“å¼€ã€‚

```js
// æ‰“å¼€ä¸€ä¸ªæ–‡æ¡£ï¼Œä»¥ä¾¿å†™å…¥æ•°æ®
document.open();

// å†™å…¥æ–‡æ¡£å†…å®¹
document.write();

// å…³é—­æ–‡æ¡£
document.close();
```

## document.write

å°†ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²å†™å…¥ä¸€ä¸ªç”± `document.open()` æ‰“å¼€çš„æ–‡æ¡£æµã€‚

ğŸ“– **è¯­æ³•:**

```js
document.write(maskup);
```

å‚æ•° `maskup` ä¸ºä¸€ä¸ªåŒ…å«è¦å†™å…¥æ–‡æ¡£çš„æ–‡æœ¬çš„å­—ç¬¦ä¸²ã€‚

å¯¹æ–‡æ¡£çš„å†™å…¥æ“ä½œä¸»è¦é€šè¿‡ `document.write()` æ–¹æ³•ã€‚è¯¥æ–¹æ³•ä¸»è¦ç”¨åœ¨ä¸¤æ–¹é¢ï¼š

- é¡µé¢è½½å…¥è¿‡ç¨‹ä¸­ç”¨å®æ—¶è„šæœ¬åˆ›å»ºé¡µé¢å†…å®¹
- ç”¨å»¶æ—¶è„šæœ¬åˆ›å»ºæœ¬çª—å£æˆ–æ–°çª—å£çš„å†…å®¹

> åªæœ‰å½“é¡µé¢è¢«åŠ è½½çš„æ—¶å€™ `document.write()` å‡½æ•°æ‰ä¼šè¢«æ‰§è¡Œ

âš ï¸ **æ³¨æ„ï¼š**

- å› ä¸º `document.write()` éœ€è¦å‘æ–‡æ¡£æµä¸­å†™å…¥å†…å®¹ï¼Œæ‰€ä»¥ï¼Œè‹¥åœ¨ä¸€ä¸ªå·²å…³é—­ï¼ˆä¾‹å¦‚ï¼Œå·²å®ŒæˆåŠ è½½ï¼‰çš„æ–‡æ¡£ä¸Šè°ƒç”¨ `document.write()`ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨ `document.open()`ï¼Œæµ™æ±Ÿæ¸…ç©ºè¯¥æ–‡æ¡£çš„å†…å®¹ã€‚
- åœ¨ç”± `deferred` æˆ– `asynchronous` å±æ€§çš„ `<script>` ä¸­ï¼Œ`document.write()` ä¼šè¢«å¿½ç•¥ï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤º â€œA call to `document.write()` from an asynchronously-loaded external script was ignoredâ€ çš„æŠ¥é”™ä¿¡æ¯

## document.hasFocus

è¡¨æ˜å½“å‰æ–‡æ¡£æˆ–è€…å½“å‰æ–‡æ¡£å†…çš„èŠ‚ç‚¹æ˜¯å¦è·å¾—äº†ç„¦ç‚¹ï¼Œè¯¥æ–¹æ³•å¯ç”¨æ¥åˆ¤æ–­å½“å‰æ–‡æ¡£ä¸­çš„æ´»åŠ¨å…ƒç´ æ˜¯å¦è·å¾—äº†ç„¦ç‚¹ã€‚

ğŸ“– **è¯­æ³•:**

```js
const focused = document.hasFocus();
```

ğŸŒ° **ç¤ºä¾‹ï¼š**

```js
function checkPageFocus() {
  const info = document.getElementById('message');
  if (document.hasFocus()) {
    info.innerHTML = 'è¯¥é¡µé¢è·å¾—äº†ç„¦ç‚¹';
  } else {
    info.innerHTML = 'è¯¥é¡µé¢æ²¡æœ‰è·å¾—ç„¦ç‚¹';
  }
}
```
