<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>Document 方法</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/javascript-guidebook//basic-concept">基本语法</a><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model">DOM</a><a href="/javascript-guidebook//computer-networks">计算机网络</a><a href="/javascript-guidebook//design-patterns">设计模式</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a href="/javascript-guidebook//design-patterns">设计模式</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//document-object-model">DOM 文档对象模型</a></li><li><a href="/javascript-guidebook//document-object-model/dom">文档对象模型</a><ul><li><a href="/javascript-guidebook//document-object-model/dom/dom"><span>文档对象模型</span></a></li><li><a href="/javascript-guidebook//document-object-model/dom/hierarchy-of-nodes"><span>节点层次</span></a></li><li><a href="/javascript-guidebook//document-object-model/dom/event-target"><span>EventTarget</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/node">Node</a><ul><li><a href="/javascript-guidebook//document-object-model/node/node"><span>Node</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-properties"><span>Node 属性</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-methods"><span>Node 方法</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model/document">Document</a><ul><li><a href="/javascript-guidebook//document-object-model/document/document"><span>Document</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-properties"><span>Document 属性</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model/document/document-methods"><span>Document 方法</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/element">Element</a><ul><li><a href="/javascript-guidebook//document-object-model/element/element"><span>Element</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/element-properties"><span>Element 属性</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/element-methods"><span>Element 方法</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/html-element"><span>HTMLElement</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/dynamic-collection">动态集合</a><ul><li><a href="/javascript-guidebook//document-object-model/dynamic-collection/node-list"><span>NodeList</span></a></li><li><a href="/javascript-guidebook//document-object-model/dynamic-collection/named-node-map"><span>NamedNodeMap</span></a></li><li><a href="/javascript-guidebook//document-object-model/dynamic-collection/html-collection"><span>HTMLCollection</span></a></li><li><a href="/javascript-guidebook//document-object-model/dynamic-collection/dom-token-list"><span>DOMTokenList</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/events">DOM 事件流</a><ul><li><a href="/javascript-guidebook//document-object-model/events/event-flow"><span>事件流</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-handlers-or-listener"><span>事件处理程序</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/the-event-object"><span>事件对象</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-delegation"><span>事件委托</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/events/event-types">事件类型</a><ul><li><a href="/javascript-guidebook//document-object-model/events/event-types/event-types"><span>事件类型</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/resource-events"><span>资源事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/network-events"><span>网络事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/focus-events"><span>焦点事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/websocket-events"><span>WebSocket 事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/session-history-events"><span>会话历史事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/css-animation-events"><span>CSS 动画事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/css-transition-events"><span>CSS 过渡事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/form-events"><span>表单事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/printing-events"><span>打印事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/text-composition-events"><span>文本写作事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/view-events"><span>视图事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/clipboard-events"><span>剪贴板事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/keyboard-events"><span>键盘事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/mouse-events"><span>鼠标事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/drag-and-drop-events"><span>拖拽事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/media-events"><span>媒体事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/progress-events"><span>进度条事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/storage-events"><span>存储事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/update-events"><span>更新事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/value-change-events"><span>值变化事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/uncategorized-events"><span>未分类事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/touch-events"><span>触控事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/the-orientationchange-event"><span>设备事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/ui-events"><span>用户界面事件</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="修改文档" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#修改文档"><span>修改文档</span></a></li><li title="open" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#open"><span>open</span></a></li><li title="write" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#write"><span>write</span></a></li><li title="writeIn" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#writein"><span>writeIn</span></a></li><li title="close" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#close"><span>close</span></a></li><li title="hasFocus" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#hasfocus"><span>hasFocus</span></a></li><li title="elementFromPoint" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#elementfrompoint"><span>elementFromPoint</span></a></li><li title="adoptNode" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#adoptnode"><span>adoptNode</span></a></li><li title="importNode" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#importnode"><span>importNode</span></a></li><li title="查找节点" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#查找节点"><span>查找节点</span></a></li><li title="getElementById" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#getelementbyid"><span>getElementById</span></a></li><li title="getElementsByName" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#getelementsbyname"><span>getElementsByName</span></a></li><li title="getElementsByTagName" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#getelementsbytagname"><span>getElementsByTagName</span></a></li><li title="getElementByClassName" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#getelementbyclassname"><span>getElementByClassName</span></a></li><li title="querySelector" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#queryselector"><span>querySelector</span></a></li><li title="querySelectorAll" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#queryselectorall"><span>querySelectorAll</span></a></li><li title="创建节点" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#创建节点"><span>创建节点</span></a></li><li title="createElement" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#createelement"><span>createElement</span></a></li><li title="createAttribute" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#createattribute"><span>createAttribute</span></a></li><li title="createDocumentFragment" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#createdocumentfragment"><span>createDocumentFragment</span></a></li><li title="文档对象方法总结" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/document/document-methods#文档对象方法总结"><span>文档对象方法总结</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="document-方法"><a aria-hidden="true" href="#document-方法"><span class="icon icon-link"></span></a>Document 方法</h1><h2 id="修改文档"><a aria-hidden="true" href="#修改文档"><span class="icon icon-link"></span></a>修改文档</h2><h3 id="open"><a aria-hidden="true" href="#open"><span class="icon icon-link"></span></a>open</h3><p>打开一个要写入的文档。</p><p>这将会有一些连带的影响。例如：</p><ul><li>此时已注册到文档、文档中的节点或文档的 Window 的所有事件监听器会被清除</li><li>文档中的所有节点会被清除</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="document.open();
" data-status="copy"></button><div class="token-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>当 <code>document.write()</code> 在页面加载后调用，会发生自动的 <code>document.open()</code> 调用。</li><li>不要和 <code>window.open()</code> 方法混淆。<code>document.open</code> 可用于重写当前的文档内容或者追加内容，而 <code>window.open</code> 是提供了打开一个新的窗口的方法，当前的网页文档内容给你会被保留。由于 Window 是一个全局对象，直接调用 <code>open(...)</code> 和 <code>window.open(...)</code> 的效果是一样的。</li></ul><h3 id="write"><a aria-hidden="true" href="#write"><span class="icon icon-link"></span></a>write</h3><p>将一个文本字符串写入一个由 <code>document.open()</code> 打开的文档流。</p><p>📖 <strong>语法:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="document.write(maskup);
" data-status="copy"></button><div class="token-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token plain">maskup</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>参数 <code>maskup</code> 为一个包含要写入文档的文本的字符串。</p><p>对文档的写入操作主要通过 <code>document.write()</code> 方法。该方法主要用在两方面：</p><ul><li>页面载入过程中用实时脚本创建页面内容</li><li>用延时脚本创建本窗口或新窗口的内容</li></ul><blockquote><p>只有当页面被加载的时候 <code>document.write()</code> 函数才会被执行</p></blockquote><p>⚠️ <strong>注意：</strong></p><ul><li>因为 <code>document.write()</code> 需要向文档流中写入内容，所以，若在一个已关闭（例如，已完成加载）的文档上调用 <code>document.write()</code>，就会自动调用 <code>document.open()</code>，浙江清空该文档的内容。</li><li>在由 <code>deferred</code> 或 <code>asynchronous</code> 属性的 <code>&lt;script&gt;</code> 中，<code>document.write()</code> 会被忽略，控制台会显示 “A call to <code>document.write()</code> from an asynchronously-loaded external script was ignored” 的报错信息</li></ul><h3 id="writein"><a aria-hidden="true" href="#writein"><span class="icon icon-link"></span></a>writeIn</h3><p>向当前文档写入内容，尾部添加换行符</p><h3 id="close"><a aria-hidden="true" href="#close"><span class="icon icon-link"></span></a>close</h3><p>用于结束对文档的写入操作，这种写入操作一般由 <code>document.open()</code> 打开。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 打开一个文档，以便写入数据
document.open();

// 写入文档内容
document.write();

// 关闭文档
document.close();
" data-status="copy"></button><div class="token-line"><span class="token comment">// 打开一个文档，以便写入数据</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 写入文档内容</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 关闭文档</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="hasfocus"><a aria-hidden="true" href="#hasfocus"><span class="icon icon-link"></span></a>hasFocus</h3><p>表明当前文档或者当前文档内的节点是否获得了焦点，该方法可用来判断当前文档中的活动元素是否获得了焦点。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const focused = document.hasFocus();
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> focused </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">hasFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>🌰 <strong>示例：检测页面是否获得焦点</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function checkPageFocus() {
  const info = document.getElementById(&#x27;message&#x27;);
  if (document.hasFocus()) {
    info.innerHTML = &#x27;该页面获得了焦点&#x27;;
  } else {
    info.innerHTML = &#x27;该页面没有获得焦点&#x27;;
  }
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">checkPageFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> info </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;message&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">hasFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    info</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;该页面获得了焦点&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    info</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;该页面没有获得焦点&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="elementfrompoint"><a aria-hidden="true" href="#elementfrompoint"><span class="icon icon-link"></span></a>elementFromPoint</h3><p>通过 <code>document.elementFromPoint(x, y)</code> 根据横纵坐标获取目标元素对象，该元素对象必须支持和响应鼠标事件。</p><p>获取文档中位于页面指定位置最上层的子元素节点。这个方法可以用于检测元素是否发生重叠或碰撞。</p><p>参数：</p><ul><li><code>x</code>：（必填项）定位横坐标偏移量，指 <code>clientX</code></li><li><code>y</code>：（必填项）定位纵坐标偏移量，指 <code>clientY</code></li></ul><p>🌰 <strong>示例：检测元素可见性</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const isElementVisible = function(elem) {
  const win = window, doc = document, height, rects;

  if (!elem || (elem &amp;&amp; elem.nodeType !== 1) || !elem.getClientRects || !doc.elementFromPoint || !doc.querySelector || !elem.contains) {
    return false;
  }
  if (elem.offsetWidth === 0 || elem.offsetHeight === 0) {
    return false;
  }
  height = win.innerHeight ? win.innerHeight : doc.documentElement.clientHeight;
  rects.elem.getClientRects();

  const offsetTop = function (r, elem) {
    const x = (r.left + r.right) / 2,
          y = (r.top + r.bottom) / 2,
          elemFromPoint = doc.elementFromPoint(x, y);

    return (elemFromPoint === elem || elem.contains(elemFromPoint));
  }

  for (let i = 0; len = rects.length; i &lt; len; i++) {
    let item = rects[i],
        inViewport = r.top &gt; 0 ? r.top &lt;= height : (r.bottom &gt; 0 &amp;&amp; r.bottom &lt;= height);

    if (inViewport &amp;&amp; offsetTop(r, elem)) {
      return true;
    }
  }

  return false;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">isElementVisible</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> win </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">,</span><span class="token plain"> doc </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">,</span><span class="token plain"> height</span><span class="token punctuation">,</span><span class="token plain"> rects</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">elem </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">elem </span><span class="token operator">&amp;&amp;</span><span class="token plain"> elem</span><span class="token punctuation">.</span><span class="token property-access">nodeType</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">elem</span><span class="token punctuation">.</span><span class="token property-access">getClientRects</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">doc</span><span class="token punctuation">.</span><span class="token property-access">elementFromPoint</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">doc</span><span class="token punctuation">.</span><span class="token property-access">querySelector</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">elem</span><span class="token punctuation">.</span><span class="token property-access">contains</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">elem</span><span class="token punctuation">.</span><span class="token property-access">offsetWidth</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> elem</span><span class="token punctuation">.</span><span class="token property-access">offsetHeight</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  height </span><span class="token operator">=</span><span class="token plain"> win</span><span class="token punctuation">.</span><span class="token property-access">innerHeight</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> win</span><span class="token punctuation">.</span><span class="token property-access">innerHeight</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> doc</span><span class="token punctuation">.</span><span class="token property-access">documentElement</span><span class="token punctuation">.</span><span class="token property-access">clientHeight</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  rects</span><span class="token punctuation">.</span><span class="token property-access">elem</span><span class="token punctuation">.</span><span class="token method function property-access">getClientRects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">offsetTop</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token parameter punctuation">,</span><span class="token parameter"> elem</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">r</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> r</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">r</span><span class="token punctuation">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> r</span><span class="token punctuation">.</span><span class="token property-access">bottom</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          elemFromPoint </span><span class="token operator">=</span><span class="token plain"> doc</span><span class="token punctuation">.</span><span class="token method function property-access">elementFromPoint</span><span class="token punctuation">(</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">elemFromPoint </span><span class="token operator">===</span><span class="token plain"> elem </span><span class="token operator">||</span><span class="token plain"> elem</span><span class="token punctuation">.</span><span class="token method function property-access">contains</span><span class="token punctuation">(</span><span class="token plain">elemFromPoint</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> len </span><span class="token operator">=</span><span class="token plain"> rects</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> len</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> item </span><span class="token operator">=</span><span class="token plain"> rects</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        inViewport </span><span class="token operator">=</span><span class="token plain"> r</span><span class="token punctuation">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> r</span><span class="token punctuation">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> height </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">r</span><span class="token punctuation">.</span><span class="token property-access">bottom</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> r</span><span class="token punctuation">.</span><span class="token property-access">bottom</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> height</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">inViewport </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token function">offsetTop</span><span class="token punctuation">(</span><span class="token plain">r</span><span class="token punctuation">,</span><span class="token plain"> elem</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="adoptnode"><a aria-hidden="true" href="#adoptnode"><span class="icon icon-link"></span></a>adoptNode</h3><p>将某个节点，从其原来所在的文档移除，插入当前文档，并返回插入后的新节点。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="document.adoptNode(externalNode);
" data-status="copy"></button><div class="token-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">adoptNode</span><span class="token punctuation">(</span><span class="token plain">externalNode</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><blockquote><p>该方法不但可以从 <code>iframe</code> 中获取 <code>adopt</code> 元素，在同一 document 文档下的不同两个元素中也可以使用，该方法可以实现从左边栏列表中选取某些元素加载到右边栏的功能。</p></blockquote><h3 id="importnode"><a aria-hidden="true" href="#importnode"><span class="icon icon-link"></span></a>importNode</h3><p>从外部文档拷贝指定节点，插入当前文档</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="document.importNode(externalNode, deep);
" data-status="copy"></button><div class="token-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">importNode</span><span class="token punctuation">(</span><span class="token plain">externalNode</span><span class="token punctuation">,</span><span class="token plain"> deep</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="查找节点"><a aria-hidden="true" href="#查找节点"><span class="icon icon-link"></span></a>查找节点</h2><p>大多数客户端 JavaScript 程序运行时总是在操作一个或多个文档元素。当这些程序启动时，可以使用 JavaScript 全局变量 <code>document</code> 来引用 Document 对象。但是，为了操作文档中的元素，必须通过某种方式获得或选取这些引用文档元素的 Element 对象。DOM 提供了多个 API 以供开发者访问文档树中的元素：</p><ul><li>根据 <code>id</code> 属性获取单个节点：<code>getElementById</code></li><li>根据 <code>name</code> 属性获取节点列表：<code>getElementsByNames</code></li><li>根据标签名获取元素列表：<code>getElementByTagName</code></li><li>根据 <code>class</code> 属性获取元素列表：<code>getElementsByClassName</code></li><li>使用 CSS 选择器匹配第一个符合的元素：<code>querySelector</code></li><li>使用 CSS 选择器匹配所有符合的元素：<code>querySelectorAll</code></li></ul><h3 id="getelementbyid"><a aria-hidden="true" href="#getelementbyid"><span class="icon icon-link"></span></a>getElementById</h3><p><code>document.getElementById()</code> 方法通过指定 HTML 元素的 id 属性获取元素引用。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  const elem = document.getElementById(&#x27;app&#x27;);

  console.log(elem);
  // &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
&lt;/script&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">app</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> elem </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">getElementById</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;app&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">elem</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>参数 <code>id</code>：根据元素的 id 属性获取元素引用（大小写敏感）</li><li>任何 HTML 元素可以有一个 ID 属性，但在文档中该值必须唯一。</li><li>若浏览器中出现多个 ID 名的情况，CSS 样式对所有该 ID 名的元素都生效，但 JavaScript 脚本仅对第一个出现该 ID 名的元素生效。</li><li><code>document.getElementById()</code> 只能在 <code>document</code> 对象上调用，它在整个文档中查找给定的 id 属性。</li></ul><h3 id="getelementsbyname"><a aria-hidden="true" href="#getelementsbyname"><span class="icon icon-link"></span></a>getElementsByName</h3><p><code>getElementsByName()</code> 方法通过指定 HTML 元素 <code>name</code> 属性获取元素引用的集合。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;div&gt;
  &lt;div name=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;div name=&quot;app&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  const elemList = document.getElementsByName(&#x27;app&#x27;);

  console.log(elemList);
  // NodeList(3) [div, div]
&lt;/script&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">name</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">app</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">name</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">app</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> elemList </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">getElementsByName</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;app&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">elemList</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// NodeList(3) [div, div]</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>参数 <code>name</code>：根据元素的 <code>name</code> 属性获取元素引用</li><li>因为一个文档中 name 属性可能不唯一（如 HTML 表单中的单选按钮通常具有相同的 name 属性），所以 <code>getElementsByName()</code> 方法返回的是 <strong>元素的数组</strong>（<a href="/javascript-guidebook//document-object-model/node/node-list">NodeList</a>），而不是一个元素。</li><li>在 HTML 元素中，并不是所有元素都有 <code>name</code> 属性，比如 <code>&lt;div&gt;</code> 是没有 <code>name</code> 属性的，但是如果强制设置 <code>&lt;div&gt;</code> 的 <code>name</code> 属性，它也是可以被查找到的。</li><li>在 IE 中，如果 <code>id</code> 设置成某个值，然后传入 <code>getElementsByName()</code> 的参数值和 <code>id</code> 值一样，则这个元素是会被找到的，所以最好不好设置同样的值给 <code>id</code> 和 <code>name</code></li></ul><h3 id="getelementsbytagname"><a aria-hidden="true" href="#getelementsbytagname"><span class="icon icon-link"></span></a>getElementsByTagName</h3><p><code>getElementsByTagName()</code> 方法通过指定 HTML 元素标签名获取元素引用的集合。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;ul&gt;
  &lt;li&gt;1&lt;/li&gt;
  &lt;li&gt;2&lt;/li&gt;
  &lt;li&gt;3&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  const elemList = document.getElementsByTagName(&#x27;li&#x27;);

  console.log(elemList);
  // HTMLCollection(3) [li, li, li]
&lt;/script&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">ul</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">li</span><span class="token tag punctuation">&gt;</span><span class="token plain">1</span><span class="token tag punctuation">&lt;/</span><span class="token tag">li</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">li</span><span class="token tag punctuation">&gt;</span><span class="token plain">2</span><span class="token tag punctuation">&lt;/</span><span class="token tag">li</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">li</span><span class="token tag punctuation">&gt;</span><span class="token plain">3</span><span class="token tag punctuation">&lt;/</span><span class="token tag">li</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">ul</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> elemList </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">getElementsByTagName</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;li&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">elemList</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// HTMLCollection(3) [li, li, li]</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>返回的元素的顺序是它们在文档中的顺序</li><li>返回的类数组对象有一个 <code>namedItem()</code> 方法，可以通过元素的 <code>name</code> 属性取得集合中的第一个值。Safari 和 IE 不支持该方法</li><li><code>getElementsByTagName()</code> 方法可以用于 Document 对象，也可以用于 Element 元素对象，用于调用该方法的元素的 <strong>后代元素</strong></li><li>如果要对 <code>HTMLCollection</code> 集合进行循环操作，最好将其长度缓存起来，因为每次循环都会去计算长度，暂时缓存起来可以提高效率</li><li>如果没有存在指定的标签，该接口返回的不是 <code>null</code>，而是一个空的 <code>HTMLCollection</code></li></ul><p><strong>匹配所有标签</strong></p><p>使用通配符 <code>*</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const all = document.getElementsByTagName(&#x27;*&#x27;);
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> all </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#x27;*&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="getelementbyclassname"><a aria-hidden="true" href="#getelementbyclassname"><span class="icon icon-link"></span></a>getElementByClassName</h3><p><code>getElementsByClassName()</code> 方法通过指定 HTML 子元素的类名获取元素引用的集合。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;div class=&quot;app&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  const elemList = document.getElementByClassName(&#x27;app&#x27;);

  console.log(elemList);
  // HTMLCollection(1) [div.app]
&lt;/script&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">app</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> elemList </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">getElementByClassName</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;app&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">elemList</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// HTMLCollection(1) [div.app]</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>参数 <code>className</code>：根据元素类名获取元素引用</li><li>返回值 <code>elementList</code>：返回值为匹配类名的元素集合</li><li>IE9 以下浏览器不支持</li><li>如果要获取 2 个以上 <code>className</code>，可传入多个<code>className</code>，每个用空格分隔</li></ul><h3 id="queryselector"><a aria-hidden="true" href="#queryselector"><span class="icon icon-link"></span></a>querySelector</h3><p><code>querySelector()</code> 方法返回文档中匹配指定 CSS 选择器的第一个元素。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;div&gt;
  &lt;div id=&quot;foo&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;bar&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  const foo = document.querySelector(&#x27;#foo&#x27;);
  console.log(foo);
  // &lt;div id=&quot;foo&quot;&gt;&lt;/div&gt;

  const bar = document.querySelector(&#x27;.bar&#x27;);
  console.log(bar);
  // &lt;div class=&quot;bar&quot;&gt;&lt;/div&gt;

  const div = document.querySelector(&#x27;div&#x27;);
  // &lt;div&gt;
  //   &lt;div id=&quot;foo&quot;&gt;&lt;/div&gt;
  //   &lt;div class=&quot;bar&quot;&gt;&lt;/div&gt;
  // &lt;/div&gt;
&lt;/script&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">foo</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">bar</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> foo </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">querySelector</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;#foo&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">foo</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// &lt;div id=&quot;foo&quot;&gt;&lt;/div&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> bar </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">querySelector</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;.bar&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">bar</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// &lt;div class=&quot;bar&quot;&gt;&lt;/div&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> div </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">querySelector</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;div&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// &lt;div&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">//   &lt;div id=&quot;foo&quot;&gt;&lt;/div&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">//   &lt;div class=&quot;bar&quot;&gt;&lt;/div&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// &lt;/div&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>参数 <code>selectors</code> 必须是有效的 CSS 选择器字符串；如果不是，则引发 <code>SYNTAX_ERR</code> 异常。</li><li>如果没有找到匹配的元素，返回 <code>null</code>。</li><li>该方法既可用于 Document 类型，也可用于元素 Element 类型。</li></ul><p>🌰 <strong>示例：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// ID 为 foo 的元素
const foo = document.querySelector(&#x27;.foo&#x27;);
// 类名为 bar 的元素
const bar = document.querySelector(&#x27;.bar&#x27;);
" data-status="copy"></button><div class="token-line"><span class="token comment">// ID 为 foo 的元素</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;.foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 类名为 bar 的元素</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> bar </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;.bar&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="queryselectorall"><a aria-hidden="true" href="#queryselectorall"><span class="icon icon-link"></span></a>querySelectorAll</h3><p><code>querySelectorAll()</code> 方法返回与指定的选择器组匹配的文档中的元素列表（使用 <strong>深度优先</strong> 的先序遍历文档的节点）。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;div&gt;
  &lt;div class=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;app&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  const elemList = document.querySelectorAll(&#x27;.app&#x27;);

  console.log(elemList);
  // NodeList(2) [div.app, div.app]
&lt;/script&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">app</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">app</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> elemList </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">querySelectorAll</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;.app&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">elemList</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">// NodeList(2) [div.app, div.app]</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>没有匹配元素时，返回空的类数组对象，而不是 <code>null</code></li></ul><h2 id="创建节点"><a aria-hidden="true" href="#创建节点"><span class="icon icon-link"></span></a>创建节点</h2><ul><li>创建元素节点：<code>document.createElement</code></li><li>创建属性节点：<code>document.createAttribute</code></li><li>设置属性节点到元素节点：<code>document.setAttribute</code></li><li>创建文本节点：<code>document.createTextNode</code></li><li>创建注释节点：<code>document.createComment</code></li><li>创建空白文档片段：<code>document.createDocumentFragment</code></li></ul><h3 id="createelement"><a aria-hidden="true" href="#createelement"><span class="icon icon-link"></span></a>createElement</h3><p>通过 <code>document.createElement</code> 创建由 tagName 指定的 HTML 元素，或一个 HTMLUnkownElement。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="document.createElement(tagName [, options])
" data-status="copy"></button><div class="token-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token plain">tagName </span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token plain"> options</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>当执行此方法后，该元素并未显示在 HTML 文档中，需要将该元素添加到 DOM 树中：</p><ul><li>找到一个作为父元素的元素</li><li>使用 <code>appendChild()</code> 方法，并将您想要的元素添加到指定的元素中</li></ul><p>🌰 <strong>示例：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;body&gt;
  &lt;h1 id=&quot;theTitle&quot; class=&quot;hightlight summer&quot;&gt;What&#x27;s happening?&lt;/h1&gt;
&lt;/body&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">body</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">h1</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">theTitle</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">hightlight summer</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">What&#x27;s happening?</span><span class="token tag punctuation">&lt;/</span><span class="token tag">h1</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">body</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let newElement = document.createElement(&#x27;p&#x27;);

newElement.textContent = &#x27;新创建的p元素&#x27;;

document.body.appendChild(newElement);
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> newElement </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">newElement</span><span class="token punctuation">.</span><span class="token property-access">textContent</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;新创建的p元素&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token plain">newElement</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="createattribute"><a aria-hidden="true" href="#createattribute"><span class="icon icon-link"></span></a>createAttribute</h3><p>创建新的属性节点，这种创建方式下 DOM 不限制节点能够添加的属性种类。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="document.createAttribute(name);
" data-status="copy"></button><div class="token-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createAttribute</span><span class="token punctuation">(</span><span class="token plain">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>参数 <code>name</code> 是属性的属性名</p><p>🌰 <strong>示例：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const node = document.getElementById(&#x27;node&#x27;);
const att = document.createAttribute(&#x27;name&#x27;);

att.value = &#x27;newValue&#x27;;

node.setAttribute(att);
console.log(node.getAttribute(&#x27;name&#x27;));
// newValue
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;node&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> att </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;name&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">att</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;newValue&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">node</span><span class="token punctuation">.</span><span class="token method function property-access">setAttribute</span><span class="token punctuation">(</span><span class="token plain">att</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">node</span><span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;name&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// newValue</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="createdocumentfragment"><a aria-hidden="true" href="#createdocumentfragment"><span class="icon icon-link"></span></a>createDocumentFragment</h3><p>创建一个新的空白的文档片段 DocumentFragments。</p><p>DocumentFragments 是 DOM 节点。它们不是主 DOM 树的一部分。通常的用例是创建文档片段，将元素附加到文档片段，然后将文档片段附加到 DOM 树。在 DOM 树中，文档片段被其所有的子元素所代替。</p><p>因为文档片段存在于内存中，并不在 DOM 树中，所以将子元素插入到文档片段时不会引起页面回流（对元素位置和几何上的计算）。因此，使用文档片段通常会带来更好的性能。</p><p>🌰 <strong>示例：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;ul id=&quot;list&quot;&gt;&lt;/ul&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  const list = document.getElementById(&#x27;ul&#x27;);
  const fragment = document.createDocumentFragment();
  const browsers = [&#x27;Firefox&#x27;, &#x27;Chrome&#x27;, &#x27;Opera&#x27;, &#x27;Safari&#x27;, &#x27;Internet Explorer&#x27;];

  browsers.forEach(function(browser) {
    const li = document.createElement(&#x27;li&#x27;);
    li.textContent = browser;
    fragment.appendChild(li);
  });

  list.appendChild(fragment);
&lt;/script&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">ul</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">list</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">ul</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> list </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">getElementById</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;ul&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> fragment </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">createDocumentFragment</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> browsers </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">[</span><span class="token script language-javascript string">&#x27;Firefox&#x27;</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string">&#x27;Chrome&#x27;</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string">&#x27;Opera&#x27;</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string">&#x27;Safari&#x27;</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string">&#x27;Internet Explorer&#x27;</span><span class="token script language-javascript punctuation">]</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  browsers</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">forEach</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript keyword">function</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript parameter">browser</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">{</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> li </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">document</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">createElement</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&#x27;li&#x27;</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">    li</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript property-access">textContent</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> browser</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">    fragment</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">appendChild</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">li</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation">}</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  list</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">appendChild</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">fragment</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="文档对象方法总结"><a aria-hidden="true" href="#文档对象方法总结"><span class="icon icon-link"></span></a>文档对象方法总结</h2><p>在 DOM 中获取元素（或节点）的五种常用的方法：</p><table><thead><tr><th align="center">方法</th><th align="center">参数</th><th align="center">是否调用一个元素</th><th align="center">是否动态</th></tr></thead><tbody><tr><td align="center">document.getElementById</td><td align="center">id</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">document.getElementByName</td><td align="center">name</td><td align="center"></td><td align="center">✔</td></tr><tr><td align="center">document.getElmentByTagName</td><td align="center">tag 或 *</td><td align="center">✔</td><td align="center">✔</td></tr><tr><td align="center">document.getElmentByClassName</td><td align="center">className</td><td align="center">✔</td><td align="center">✔</td></tr><tr><td align="center">document.querySelector</td><td align="center">CSS Selector</td><td align="center">✔</td><td align="center"></td></tr><tr><td align="center">document.querySelectorAll</td><td align="center">CSS Selector</td><td align="center">✔</td><td align="center"></td></tr></tbody></table><p>除 <code>getElementById</code> 和 <code>getElementByName</code>，其它方法均可以在指定元素上搜索指定的选择器。</p><p>除此之外：</p><ul><li><code>elem.matches(css)</code> 用于检查 <code>elem</code> 是否匹配指定的 CSS 选择器</li><li><code>elem.closet(css)</code> 用于查找匹配给定的 CSS 选择器的最近的组件级</li><li><code>elemA.contains(elemB)</code> 表示的是如果 <code>elemB</code> 是否包含 <code>elemA</code>，如果包含就返回 <code>true</code></li></ul><hr/><p><strong>参考资料：</strong></p><ul><li><a href="https://www.w3.org/TR/selectors-api/" target="_blank" rel="noopener noreferrer">Selectors API Level1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://www.w3cplus.com/javascript/searching-elements-dom.html" target="_blank" rel="noopener noreferrer">DOM 系列：getElement<em> 和 querySelector</em><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/document-object-model/document/document-methods.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/19/2020, 10:25:22 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.js"></script>
    <script src="/javascript-guidebook/docs__document-object-model__document__document-methods.md.js"></script>
  </body>
</html>
