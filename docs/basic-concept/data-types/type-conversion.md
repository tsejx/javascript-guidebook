---
nav:
  title: åŸºæœ¬è¯­æ³•
  order: 1
group:
  title: æ•°æ®ç±»å‹å’Œå€¼
  order: 3
title: ç±»å‹è½¬æ¢
order: 3
---

# ç±»å‹è½¬æ¢

JavaScript ä½œä¸ºä¸€ç§å¼±ç±»å‹çš„è¯­è¨€ï¼Œä¸ç”¨åƒ C è¯­è¨€é‚£æ ·è¦å®šä¹‰å¥½æ•°æ®ç±»å‹ï¼Œå› ä¸ºå…è®¸å˜é‡ç±»å‹çš„ **éšå¼ç±»å‹è½¬æ¢** å’Œå…è®¸ **å¼ºåˆ¶ç±»å‹è½¬æ¢**ã€‚æˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œåªéœ€ä¸€ä¸ª `var`ã€`let`ã€`const` æå®šï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®çš„ç±»å‹ã€‚

## åŸºæœ¬è§„åˆ™

ä» ECMAScript Standard ä¸­äº†è§£ Numberã€Stringã€Booleanã€Array å’Œ Object ä¹‹é—´çš„ç›¸äº’è½¬æ¢ä¼šæ›´åŠ ç›´è§‚ã€‚

### ToString

> æ­¤å¤„æ‰€è¯´çš„ ToString å¹¶éå¯¹è±¡çš„ `toString()` æ–¹æ³•ï¼Œè€Œæ˜¯æŒ‡å…¶ä»–ç±»å‹çš„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æ“ä½œã€‚

ä¸‹é¢åˆ—å‡ºå¸¸è§è½¬æ¢ä¸º String ç±»å‹çš„è§„åˆ™ï¼š

- `null`ï¼šè½¬ä¸º `"null"`
- `undefined`ï¼šè½¬ä¸º `"undefined"`
- Boolean ç±»å‹ï¼š
  - `true` è½¬ä¸º `"true"`
  - `false` è½¬ä¸º `"false"`
- Number ç±»å‹ï¼šè½¬ä¸ºæ•°å­—çš„å­—ç¬¦ä¸²å½¢å¼
  - å¦‚ `10` è½¬ä¸º `"10"`
  - `1e21` è½¬ä¸º `"1e+21"`
- Array ç±»å‹ï¼šè½¬ä¸ºå­—ç¬¦ä¸²å°†å„å…ƒç´ ä»¥å°å†™é€—å· `,` è¿æ¥ï¼Œç›¸å½“äºè°ƒç”¨æ•°ç»„ `Array.prototype.join()` æ–¹æ³•
  - ç©ºæ•°ç»„è½¬ä¸ºç©ºå­—ç¬¦ä¸² `''`
  - æ•°ç»„ä¸­ `null` å’Œ `undefined` ä¼šè¢«å½“ä½œ **ç©ºå­—ç¬¦ä¸²** å¤„ç†
- æ™®é€šå¯¹è±¡ï¼šè½¬ä¸ºå­—ç¬¦ä¸²ç›¸å½“äºç›´æ¥ä½¿ç”¨ `Object.prototype.toString()`ï¼Œè¿”å› `[object Object]`

<br />

```js
String(null);
// "null"

String(undefined);
// 'undefined'

String(true);
// 'true'

String(10);
// '10'

String(1e21);
// '1e+21'

String([1, 2, 3]);
// '1,2,3'

String([]);
// ''

String([null]);
// ''

String([1, undefined, 3]);
// '1,,3'

String({});
// '[object Objecr]'
```

### ToNumber

- `null`ï¼š è½¬ä¸º `0`
- `undefined`ï¼šè½¬ä¸º `NaN`
- String ç±»å‹ï¼šå¦‚æœæ˜¯çº¯æ•°å­—å½¢å¼ï¼Œåˆ™è½¬ä¸ºå¯¹åº”çš„æ•°å­—
  - ç©ºå­—ç¬¦è½¬ä¸º `0`
  - å¦åˆ™ä¸€å¾‹æŒ‰è½¬æ¢å¤±è´¥å¤„ç†ï¼Œè½¬ä¸º `NaN`
- Boolean ç±»å‹ï¼š
  - `true` å°†è¢«è½¬ä¸º `1`
  - `false` å°†è¢«è½¬ä¸º `0`
- Array ç±»å‹ï¼šæ•°ç»„é¦–å…ˆä¼šè¢«è½¬ä¸º **åŸå§‹æ•°æ®ç±»å‹**ï¼Œä¹Ÿå°±æ˜¯ [ToPrimitive](#ToPrimitive)ï¼Œç„¶ååœ¨æ ¹æ®è½¬æ¢åçš„åŸå§‹ç±»å‹æŒ‰ç…§ä¸Šé¢çš„è§„åˆ™å¤„ç†
- å¯¹è±¡ï¼šåŒæ•°ç»„çš„å¤„ç†

<br />

```js
Number(null);
// 0

Number(undefined);
// NaN

Number('10');
// 10

Number('10a');
// NaN

Number('');
// 0

Number(true);
// 1

Number(false);
// 0

Number([]);
// 0

Number(['1']);
// 1

Number({});
// NaN
```

### ToBoolean

JavaScript ä¸­å‡å€¼åªæœ‰ `false`ã€`null`ã€`undefined`ã€`""`ã€`0` å’Œ `NaN`ï¼Œå…¶ä»–å€¼è½¬ä¸º Boolean ç±»å‹éƒ½ä¸º `true`ã€‚

```js
Boolean(null);
// false

Boolean(undefined);
// false

Boolean('');
// flase

Boolean(NaN);
// flase

Boolean(0);
// flase

Boolean([]);
// true

Boolean({});
// true

Boolean(Infinity);
// true
```

### ToPrimitive

> ToPrimitive æ–¹æ³•ç”¨äºå°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºåŸå§‹æ•°æ®ç±»å‹çš„æ“ä½œ

ğŸ”¬ å€¼ä¸ºå¼•ç”¨æ•°æ®ç±»å‹æ—¶ï¼Œä¼šè°ƒç”¨ JavaScript å†…ç½®çš„ `@@ToPrimitive(hint)` æ–¹æ³•æ¥æŒ‡å®šå…¶ç›®æ ‡ç±»å‹ã€‚

- å¦‚æœä¼ å…¥å€¼ä¸º Number ç±»å‹ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ `valueOf()` æ–¹æ³•ï¼Œè‹¥è¿”å›å€¼ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼Œåˆ™ç»“æŸ `@@ToPrimitive` æ“ä½œï¼Œå¦‚æœè¿”å›çš„ä¸æ˜¯åŸå§‹æ•°æ®ç±»å‹ï¼Œåˆ™ç»§ç»­è°ƒç”¨å¯¹è±¡çš„ `toString()` æ–¹æ³•ï¼Œè‹¥è¿”å›å€¼ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼Œåˆ™ç»“æŸ `@@ToPrimitive` æ“ä½œï¼Œå¦‚æœè¿”å›çš„è¿˜æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚
- å¦‚æœä¼ å…¥å€¼ä¸º String ç±»å‹ï¼Œåˆ™å…ˆè°ƒç”¨ `toString()` æ–¹æ³•ï¼Œå†è°ƒç”¨ `valueOf()` æ–¹æ³•ã€‚

<br />

```js
[1, 2] ==
  '1,2'[(1, 2)] // true
    .valueOf() // "[1,2]"
    [(1, 2)].toString(); // "1,2"

const a = {};
a == '[object Object]'; // true
a.valueOf().toString(); // "[object Object]"
```

> å¯¹äºä¸åŒç±»å‹çš„å¼•ç”¨æ•°æ®ç±»å‹ï¼ŒToPrimitive çš„è§„åˆ™æœ‰æ‰€ä¸åŒï¼Œæ¯”å¦‚ Date å¯¹è±¡ä¼šå…ˆè°ƒç”¨ `toString()` æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ [ECMAScript6 è§„èŒƒä¸­å¯¹ ToPrimitive çš„å®šä¹‰è§£é‡Š](https://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive)
>
> ä»¥ JavaScript å®ç° [ToPrimitive](https://juejin.im/post/59ad2585f265da246a20e026#heading-1)

å€¼å¾—ä¸€æçš„æ˜¯å¯¹äº **æ•°å€¼ç±»å‹** çš„ `valueOf()` å‡½æ•°çš„è°ƒç”¨ç»“æœä»ä¸ºæ•°ç»„ï¼Œå› æ­¤æ•°ç»„ç±»å‹çš„éšå¼ç±»å‹è½¬æ¢ç»“æœæ˜¯å­—ç¬¦ä¸²ã€‚

è€Œåœ¨ ES6 ä¸­å¼•å…¥ Symbol ç±»å‹ä¹‹åï¼ŒJavaScript ä¼šä¼˜å…ˆè°ƒç”¨å¯¹è±¡çš„ `[Symbol.toPrimitive]` æ–¹æ³•æ¥å°†è¯¥å¯¹è±¡è½¬åŒ–ä¸ºåŸå§‹ç±»å‹ï¼Œé‚£ä¹ˆæ–¹æ³•çš„è°ƒç”¨é¡ºåºå°±å˜ä¸ºäº†ï¼š

- å½“ `obj[Symbol.toPrimitive](preferredType)` æ–¹æ³•å­˜åœ¨æ—¶ï¼Œä¼˜å…ˆè°ƒç”¨è¯¥æ–¹æ³•
- å¦‚æœ `preferredType` å‚æ•°ä¸º String ç±»å‹ï¼Œåˆ™ä¾æ¬¡å°è¯• `obj.toString()` ä¸ `obj.valueOf()`
- å¦‚æœ `preferredType` å‚æ•°ä¸º Number ç±»å‹æˆ–è€…é»˜è®¤å€¼ï¼Œåˆ™ä¾æ¬¡å°è¯• `obj.valueOf()` ä¸ `obj.toString()`

## æ˜¾å¼ç±»å‹è½¬æ¢

é€šè¿‡æ‰‹åŠ¨è¿›è¡Œç±»å‹è½¬æ¢ï¼ŒJavaScript æä¾›äº†ä»¥ä¸‹è½¬å‹å‡½æ•°ï¼š

- è½¬æ¢ä¸ºæ•°å€¼ç±»å‹
  - `Number(mix)`
  - `parseInt(string, radix)`
  - `parseFloat(string)`
- è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹
  - `toString(radix)`
  - `String(mix)`
- è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹
  - `Boolean(mix)`

## éšå¼ç±»å‹è½¬æ¢

åœ¨ JavaScript ä¸­ï¼Œå½“è¿ç®—ç¬¦åœ¨è¿ç®—æ—¶ï¼Œå¦‚æœ **ä¸¤è¾¹æ•°æ®ä¸ç»Ÿä¸€**ï¼ŒCPU å°±æ— æ³•è¿ç®—ï¼Œè¿™æ—¶æˆ‘ä»¬ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†è¿ç®—ç¬¦ä¸¤è¾¹çš„æ•°æ®åšä¸€ä¸ªæ•°æ®ç±»å‹è½¬æ¢ï¼Œè½¬æˆç›¸åŒçš„æ•°æ®ç±»å‹å†è®¡ç®—ã€‚

è¿™ç§æ— éœ€å¼€å‘è€…æ‰‹åŠ¨è½¬æ¢ï¼Œè€Œç”± **ç¼–è¯‘å™¨è‡ªåŠ¨è½¬æ¢** çš„æ–¹å¼å°±ç§°ä¸º **éšå¼ç±»å‹è½¬æ¢**ã€‚

JavaScript çš„æ•°æ®ç±»å‹éšå¼è½¬æ¢ä¸»è¦åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š

- è½¬æ¢ä¸º Boolean ç±»å‹
- è½¬æ¢ä¸º Number ç±»å‹
- è½¬æ¢ä¸º String ç±»å‹

å€¼åœ¨ **é€»è¾‘åˆ¤æ–­** å’Œ **é€»è¾‘è¿ç®—** æ—¶ä¼šéšå¼è½¬æ¢ä¸º Boolean ç±»å‹ã€‚

Boolean ç±»å‹è½¬æ¢è§„åˆ™è¡¨ï¼š

| æ•°æ®å€¼              | è½¬æ¢åçš„å€¼ |
| :------------------ | :--------- |
| æ•°å­— `0`            | `false`    |
| `NaN`               | `false`    |
| ç©ºå­—ç¬¦ä¸² `""`       | `false`    |
| `null`              | `false`    |
| `undefined`         | `false`    |
| é `!0` æ•°å­—        | `true`     |
| éç©ºå­—ç¬¦ä¸² `!""`    | `true`     |
| é `!null` å¯¹è±¡ç±»å‹ | `true`     |

âš ï¸ **æ³¨æ„äº‹é¡¹**ï¼šä½¿ç”¨ `new` è¿ç®—ç¬¦åˆ›å»ºçš„å¯¹è±¡éšå¼è½¬æ¢ä¸º Boolean ç±»å‹çš„å€¼éƒ½æ˜¯ `true`ã€‚

è¿ç»­ä¸¤ä¸ªéæ“ä½œå¯ä»¥å°†ä¸€ä¸ªæ•°å¼ºåˆ¶è½¬æ¢ä¸º Boolean ç±»å‹ã€‚

```js
!!undefined;
// false

!!null;
// false

!!1;
// true

!!'';
// false

!!'Hello';
// true

!!{};
// true

!![];
// true

!!function () {};
// true
```

### è¿è¡Œç¯å¢ƒ

å¾ˆå¤šå†…ç½®å‡½æ•°æœŸæœ›ä¼ å…¥çš„å‚æ•°çš„æ•°æ®ç±»å‹æ˜¯å›ºå®šçš„ï¼Œå¦‚ `alert(value)`ï¼Œå®ƒæœŸæœ›ä¼ å…¥çš„ `value` ä¸º String ç±»å‹ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¼ å…¥çš„æ˜¯ Number ç±»å‹æˆ–è€… Object ç±»å‹ç­‰é String ç±»å‹çš„æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿæ•°æ®ç±»å‹çš„éšå¼è½¬æ¢ã€‚è¿™å°±æ˜¯ç¯å¢ƒè¿è¡Œç¯å¢ƒå¯¹æ•°æ®ç±»å‹è½¬æ¢çš„å½±å“ã€‚

ç±»ä¼¼çš„æ–¹æ³•è¿˜æœ‰ï¼š

- `alert()`
- `parseInt()`

### è¿ç®—ç¬¦

#### åŠ å·è¿ç®—ç¬¦

å½“åŠ å·è¿ç®—ç¬¦ä½œä¸ºä¸€å…ƒè¿ç®—ç¬¦è¿ç®—å€¼æ—¶ï¼Œå®ƒä¼šå°†è¯¥å€¼è½¬æ¢ä¸º Number ç±»å‹ã€‚

```js
' ' +
// 0

'0' +
// 0

'10' +
// 10

'String' +
// NaN

true +
// 1

false +
// 0

undefined +
// 0

null +
// 0

[] +
// 0

![] +
// 0

[1] +
// 1

[1, 2] +
// NaN

[[1]] +
// 1

[[1, 2]] +
// NaN

{} +
// NaN

function () {};
// NaN

+'' +
// 0
```

å½“åŠ å·è¿ç®—ç¬¦ä½œä¸ºäºŒå…ƒè¿ç®—ç¬¦æ“ä½œå€¼æ—¶ï¼Œå®ƒä¼šæ ¹æ®ä¸¤è¾¹å€¼ç±»å‹è¿›è¡Œæ•°æ®ç±»å‹éšå¼è½¬æ¢ã€‚

é¦–å…ˆï¼Œå½“å¼•ç”¨å¯¹è±¡ç±»å‹çš„å€¼è¿›è¡ŒäºŒå…ƒåŠ å·è¿ç®—ç¬¦è¿ç®—æ—¶ï¼Œä¼šæ¶‰åŠåˆ°è½¬æ¢ä¸ºåŸå§‹æ•°æ®ç±»å‹çš„é—®é¢˜ã€‚äº‹å®ä¸Šï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ‰§è¡Œä¾‹å¦‚åŠ æ³•æ“ä½œçš„æ—¶å€™ï¼Œå¦‚æœå®ƒæ˜¯åŸå§‹ç±»å‹ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦è½¬æ¢ã€‚å¦åˆ™ï¼Œå°†éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š

- è°ƒç”¨å®ä¾‹çš„ `valueOf()` æ–¹æ³•ï¼Œå¦‚æœæœ‰è¿”å›çš„æ˜¯åŸºç¡€ç±»å‹ï¼Œåœæ­¢ä¸‹é¢çš„è¿‡ç¨‹ï¼›å¦åˆ™ç»§ç»­
- è°ƒç”¨å®ä¾‹çš„ `toString()` æ–¹æ³•ï¼Œå¦‚æœæœ‰è¿”å›çš„æ˜¯åŸºç¡€ç±»å‹ï¼Œåœæ­¢ä¸‹é¢çš„è¿‡ç¨‹ï¼›å¦åˆ™ç»§ç»­
- éƒ½æ²¡è¿”å›åŸå§‹ç±»å‹ï¼Œå°±ä¼šæŠ¥é”™

å¦‚æœè¿ç®—ç¬¦ä¸¤è¾¹å‡ä¸ºåŸå§‹æ•°æ®ç±»å‹æ—¶ï¼Œåˆ™æŒ‰ç…§ä»¥ä¸‹è§„åˆ™è§£é‡Šï¼š

- **å­—ç¬¦ä¸²è¿æ¥ç¬¦**ï¼šå¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸­åªè¦å­˜åœ¨ä¸€ä¸ªæ“ä½œæ•°ä¸º String ç±»å‹ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªæ“ä½œæ•°ä¼šè°ƒç”¨ `String()` æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²ç„¶åæ‹¼æ¥
- **ç®—æœ¯è¿ç®—ç¬¦**ï¼šå¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸æ˜¯ String ç±»å‹ï¼Œä¸¤ä¸ªæ“ä½œæ•°ä¼šè°ƒç”¨ `Number()` æ–¹æ³•éšå¼è½¬æ¢ä¸º Number ç±»å‹ï¼ˆå¦‚æœæ— æ³•æˆåŠŸè½¬æ¢æˆæ•°å­—ï¼Œåˆ™å˜ä¸º `NaN`ï¼Œå†å¾€ä¸‹æ“ä½œï¼‰ï¼Œç„¶åè¿›è¡ŒåŠ æ³•ç®—æœ¯è¿ç®—

å€¼è½¬æ¢ä¸º Number ç±»å‹å’Œ String ç±»å‹éƒ½ä¼šéµå¾ªä¸€ä¸ªåŸåˆ™ï¼šå¦‚æœè¯¥å€¼ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼Œåˆ™ç›´æ¥è½¬æ¢ä¸º String ç±»å‹æˆ– Number ç±»å‹ã€‚å¦‚æœè¯¥å€¼ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆå…ˆé€šè¿‡å›ºå®šçš„æ–¹æ³•å°†å¤æ‚å€¼è½¬æ¢ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼Œå†è½¬ä¸º String ç±»å‹æˆ– Number ç±»å‹ã€‚[ToPrimitive](#ToPrimitive)

âš ï¸ **æ³¨æ„äº‹é¡¹**ï¼šå½“ `{} + ä»»ä½•å€¼` æ—¶ï¼Œ å‰ä¸€ä¸ª `{}` éƒ½ä¼šè¢« JavaScript è§£é‡Šæˆç©ºå—å¹¶å¿½ç•¥ä»–ã€‚

```js
"1" + 1             // "11"
"1" + "1"           // "11"
"1" + true          // "1true"
"1" + NaN           // "NaN"
"1" + []            // "1"
"1" + {}            // "1[object Object]"
"1" + function(){}  // "1function(){}"
"1" + new Boolean() // "1false"

1 + NaN             // NaN
1 + "true"          // "1true"
1 + true            // 2
1 + undefined       // NaN
1 + null            // 1

1 + []              // "1"
1 + [1, 2]          // "11,2"
1 + {}              // "1[object Object]"
1 + function(){}    // "1function(){}"
1 + Number()        // 1
1 + String()        // "1"

[] + []             // ""
{} + {}             // "[object Object][object Object]"
{} + []             // 0
{a: 0} + 1          // 1
[] + {}             // "[object Object]"
[] + !{}            // "false"
![] + []            // "false"
'' + {}             // "[object Object]"
{} + ''             // 0
[]["map"] + []      // "function map(){ [native code] }"
[]["a"] + []        // "undefined"
[][[]] + []         // "undefined"
+!![] + []          // 1
+!![]               // 1
1-{}                // NaN
1-[]                // 1
true - 1            // 0
{} - 1              // -1
[] !== []           // true
[]['push'](1)       // 1

(![]+[])[+[]]       // "f"
(![]+[])[+!![]]     // "a"
```

#### ç›¸ç­‰è¿ç®—ç¬¦

ç›¸ç­‰è¿ç®—ç¬¦ `==` ä¼šå¯¹æ“ä½œå€¼è¿›è¡Œéšå¼è½¬æ¢åè¿›è¡Œæ¯”è¾ƒ

- å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œå€¼ä¸ºå¸ƒå°”å€¼ï¼Œåˆ™åœ¨æ¯”è¾ƒä¹‹å‰å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼
- å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œå€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ“ä½œå€¼ä¸ºæ•°å€¼ï¼Œåˆ™é€šè¿‡ `Number()` å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼
- å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œå€¼æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ `valueOf()` æ–¹æ³•ï¼Œå¾—åˆ°çš„ç»“æœæŒ‰ç…§å‰é¢çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒ
- `null` ä¸`undefined` æ˜¯ç›¸ç­‰çš„
- å¦‚æœä¸€ä¸ªæ“ä½œå€¼ä¸º `NaN`ï¼Œåˆ™è¿”å› `false`
- å¦‚æœä¸¤ä¸ªæ“ä½œå€¼éƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬æ˜¯ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡

```js
'1' == true; // true
'1' == 1; // true
'1' == {}; // false
'1' == []; // false

undefined == undefined; // true
undefined == null; // true
nul == null; // true
```

#### å…³ç³»è¿ç®—ç¬¦

[å…³ç³»è¿ç®—ç¬¦](../expressions/comparation-operators)ï¼šä¼šæŠŠå…¶ä»–æ•°æ®ç±»å‹è½¬æ¢æˆ Number ä¹‹åå†æ¯”è¾ƒå…³ç³»ï¼ˆé™¤äº† Date ç±»å‹å¯¹è±¡ï¼‰

- å¦‚æœä¸¤ä¸ªæ“ä½œå€¼éƒ½æ˜¯æ•°å€¼ï¼Œåˆ™è¿›è¡Œ **æ•°å€¼** æ¯”è¾ƒ
- å¦‚æœä¸¤ä¸ªæ“ä½œå€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ¯”è¾ƒå­—ç¬¦ä¸²å¯¹åº”çš„ **ASCII å­—ç¬¦ç¼–ç å€¼**
  - å¤šä¸ªå­—ç¬¦åˆ™ä»å·¦å¾€å³ä¾æ¬¡æ¯”è¾ƒ
- å¦‚æœåªæœ‰ä¸€ä¸ªæ“ä½œå€¼æ˜¯æ•°å€¼ï¼Œåˆ™å°†å¦ä¸€ä¸ªæ“ä½œå€¼è½¬æ¢ä¸ºæ•°å€¼ï¼Œè¿›è¡Œ **æ•°å€¼** æ¯”è¾ƒ
- å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨ `valueOf()` æ–¹æ³•ï¼ˆå¦‚æœå¯¹è±¡æ²¡æœ‰ `valueOf()` æ–¹æ³•åˆ™è°ƒç”¨ `toString()` æ–¹æ³•ï¼‰ï¼Œå¾—åˆ°çš„ç»“æœæŒ‰ç…§å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒ
- å¦‚æœä¸€ä¸ªæ“ä½œå€¼æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º **æ•°å€¼**ï¼Œå†è¿›è¡Œæ¯”è¾ƒ

ğŸ“ `NaN` æ˜¯éå¸¸ç‰¹æ®Šçš„å€¼ï¼Œå®ƒä¸å’Œä»»ä½•ç±»å‹çš„å€¼ç›¸ç­‰ï¼ŒåŒ…æ‹¬å®ƒè‡ªå·±ï¼ŒåŒæ—¶å®ƒä¸ä»»ä½•ç±»å‹çš„å€¼æ¯”è¾ƒå¤§å°æ—¶éƒ½è¿”å› `false`ã€‚

```js
5 > 10;
// false

'2' > 10;
// false

'2' > '10';
// true

'abc' > 'b';
// false

'abc' > 'aad';
// true
```

**JavaScript åŸå§‹ç±»å‹è½¬æ¢è¡¨**

| åŸå§‹å€¼             | è½¬æ¢ä¸ºæ•°å­—ç±»å‹                   | è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹  | è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹                       |
| :----------------- | :------------------------------- | :---------------- | :----------------------------------- |
| false              | 0                                | "false"           | false                                |
| true               | 1                                | "true"            | true                                 |
| 0                  | 0                                | "0"               | false                                |
| 1                  | 1                                | "1"               | true                                 |
| "0"                | 0                                | "0"               | <span style="color:red">true</span>  |
| "000"              | 0                                | "000"             | <span style="color:red">true</span>  |
| "1"                | 1                                | "1"               | true                                 |
| NaN                | NaN                              | "NaN"             | false                                |
| Infinity           | Infinity                         | "Infinity"        | true                                 |
| -Infinity          | -Infinity                        | "-Inifinity"      | true                                 |
| ""                 | <span style="color:red">0</span> | ""                | <span style="color:red">false</span> |
| " "                | 0                                | " "               | true                                 |
| "20"               | 20                               | "20"              | true                                 |
| "Hello"            | NaN                              | "Hello"           | true                                 |
| []                 | 0                                | ""                | true                                 |
| [20]               | 20                               | "20"              | true                                 |
| [10, 20]           | NaN                              | "10,20"           | true                                 |
| ["Hello"]          | NaN                              | "Hello"           | true                                 |
| ["Hello", "World"] | NaN                              | "Hello,World"     | true                                 |
| function(){}       | NaN                              | "function(){}"    | true                                 |
| {}                 | NaN                              | "[object Object]" | true                                 |
| null               | 0                                | "null"            | false                                |
| undefined          | NaN                              | "undefined"       | false                                |

## ç»å…¸è¯•é¢˜

> `(a == 1) && (a == 2) && (a == 3)` èƒ½ä¸èƒ½ä¸º `true`ï¼Ÿ

äº‹å®ä¸Šæ˜¯å¯ä»¥çš„ï¼Œå°±æ˜¯å› ä¸ºåœ¨ `==` æ¯”è¾ƒçš„æƒ…å†µä¸‹ï¼Œä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢ã€‚å¦‚æœå‚æ•°ä¸æ˜¯ Date å¯¹è±¡å®ä¾‹ï¼Œå°±ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œå…ˆ `valueOf()` å† `toString()`ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦æ”¹å˜åŸç”Ÿçš„ `valueOf()` æˆ–è€… `toString()` æ–¹æ³•å°±å¯ä»¥è¾¾åˆ°æ•ˆæœï¼š

```js
const a = {
  num: 0,
  valueOf: function () {
    return (this.num += 1);
  },
};

const eq = a == 1 && a == 2 && a == 3;
console.log(eq);
// true

// æˆ–è€…æ”¹å†™ä»–çš„ toString æ–¹æ³•
const num = 0;
Function.prototype.toString = function () {
  return ++num;
};
function a() {}

// è¿˜å¯ä»¥æ”¹å†™ ES6 çš„ Symbol ç±»å‹çš„ toPrimitive çš„æ–¹æ³•
const a = {
  [Symbol.toPrimitive]: (function (i) {
    return function () {
      return ++i;
    };
  })(0),
};
```

æ¯ä¸€æ¬¡è¿›è¡Œç­‰å·çš„æ¯”è¾ƒï¼Œå°±ä¼šè°ƒç”¨ä¸€æ¬¡ `valueOf()` æ–¹æ³•ï¼Œè‡ªå¢ 1ï¼Œæ‰€ä»¥èƒ½æˆç«‹ã€‚
å¦å¤–ï¼Œå‡æ³•ä¹Ÿæ˜¯åŒç†ï¼š

```js
const a = {
  num: 4,
  valueOf: function () {
    return (this.num -= 1);
  },
};

const res = a == 3 && a == 2 && a == 1;
console.log(res);
```

---

**å‚è€ƒæ–‡ç« ï¼š**

- [ğŸ“ JavaScript è¿ç®—ç¬¦è§„åˆ™ä¸éšå¼ç±»å‹è½¬æ¢è¯¦è§£](https://juejin.im/post/59ad2585f265da246a20e026)
