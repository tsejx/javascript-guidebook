## ç»„åˆç»§æ‰¿

**ç»„åˆç»§æ‰¿ï¼ˆCombination Inheritanceï¼‰**ï¼ˆä¹Ÿå«ä¼ªç»å…¸ç»§æ‰¿ï¼‰ï¼ŒæŒ‡çš„æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°çš„æŠ€æœ¯ç»„åˆåˆ°ä¸€å—ï¼Œä»è€Œå‘æŒ¥äºŒè€…ä¹‹é•¿çš„ä¸€ç§ç»§æ‰¿æ¨¡å¼ã€‚

å…¶èƒŒåçš„æ€è·¯æ˜¯ä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œè€Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚è¿™æ ·ï¼Œæ—¢é€šè¿‡åœ¨åŸå‹ä¸Šå®šä¹‰æ–¹æ³•å®ç°äº†å‡½æ•°å¤ç”¨ï¼Œåˆèƒ½å¤Ÿä¿è¯æ¯ä¸ªå®ä¾‹éƒ½æœ‰å®ƒè‡ªå·±çš„å±æ€§ã€‚

ğŸŒ° **ç¤ºä¾‹ï¼š**

```js
function Parent(name){
    this.name = name
    this.attr = {
        eye: 'blue',
        hair: 'black',
        skin: 'white'
    }
}

Parent.prototype.sayName = function(){
    console.log(this.name)
};

function Children(name, age){
    // ç¬¬äºŒæ¬¡è°ƒç”¨Parent()
    // Children.prototype åˆå¾—åˆ°äº† name å’Œ attr ä¸¤ä¸ªå±æ€§
    // å¹¶å¯¹ä¸Šæ¬¡å¾—åˆ°çš„å±æ€§å€¼è¿›è¡Œäº†è¦†ç›–
    Parent.call(this, name)
    this.age = age
}

// ç¬¬ä¸€æ¬¡è°ƒç”¨ Parent()
// ä½¿å¾—å­ç±»å®ä¾‹çš„åŸå‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»å®ä¾‹å¯¹è±¡
// Children.prototype å¾—åˆ°äº† name å’Œ attr ä¸¤ä¸ªå±æ€§
Children.prototype = new Parent()

Children.prototype.constructor = Children

Children.prototype.sayAge = function(){
    console.log(this.age)
}

// The first instance
let boy = new Children('Jothan', 3)

boy.attr.height = 80

console.log(boy.attr)    // { eye: 'blue', hair: 'black', skin: 'white', height: 80 }

boy.sayName()    // 'Jothan'

boy.sayAge()     // 3

// The second instance
let girl = new Children('Irene', 1)

console.log(girl.colors)    // { eye: 'blue', hair: 'black', skin: 'white' }

girl.sayName()    // 'Irene'

girl.sayAge()     // 1
```

å®ç°æ­¥éª¤åˆ†è§£ï¼š

- çˆ¶ç±»æ„é€ å‡½æ•°å®šä¹‰è‡ªèº«å±æ€§ï¼ˆ Parent æ„é€ å‡½æ•°å®šä¹‰äº†`name` å’Œ `attr`ã€‚ ï¼‰
- çˆ¶ç±»åŸå‹ä¸Šå®šä¹‰æ–¹æ³•ï¼ˆParent çš„åŸå‹å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• `sayName()`ï¼‰
- å­ç±»æ„é€ å‡½æ•°è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œä¼ å…¥å‚æ•°ï¼Œç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å±æ€§ï¼Œéšåå­ç±»æ„é€ å‡½æ•°åˆè‡ªå®šä¹‰è‡ªèº«çš„å±æ€§ï¼ˆChildren æ„é€ å‡½æ•°åœ¨è°ƒç”¨ Parent æ„é€ å‡½æ•°æ—¶ä¼ å…¥äº† `name` å‚æ•°ï¼Œç´§æ¥ç€åˆå®šä¹‰äº†å®ƒè‡ªå·±çš„å±æ€§ `height`ã€‚ï¼‰
- å­ç±»æ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘çˆ¶ç±»æ„é€ å‡½æ•°ç”Ÿæˆçš„å®ä¾‹ï¼ˆå°† Parent çš„å®ä¾‹èµ‹å€¼ç»™ Children çš„åŸå‹ï¼‰
- åœ¨å­ç±»æ„é€ å‡½æ•°çš„åŸå‹ä¸Šå®šä¹‰æ–¹æ³•ï¼ˆåœ¨ Children çš„åŸå‹ä¸Šå®šä¹‰äº†æ–¹æ³• `sayAge()`ï¼‰
- è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥è®©ä¸¤ä¸ªä¸åŒçš„å­ç±»å®ä¾‹å¯¹è±¡æ—¢åˆ†åˆ«æ‹¥æœ‰è‡ªå·±å±æ€§ï¼Œåˆå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•

### ç¼ºé™·

æ— è®ºä»€ä¹ˆæƒ…å†µä¸‹ï¼Œ**éƒ½ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°**ï¼šç¬¬ä¸€æ¬¡æ˜¯åœ¨**åˆ›å»ºå­ç±»å‹åŸå‹**çš„æ—¶å€™ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨**å­ç±»å‹æ„é€ å‡½æ•°å†…éƒ¨**ã€‚å­ç±»å‹å¯¹è±¡æœ€ç»ˆä¼šåŒ…å«çˆ¶ç±»å‹å¯¹è±¡çš„å…¨éƒ¨å®ä¾‹å±æ€§ï¼Œä½†ä¸å¾—ä¸åœ¨è°ƒç”¨å­ç±»å‹æ„é€ å‡½æ•°æ—¶é‡å†™è¿™äº›å±æ€§ã€‚

### ç»„åˆç»§æ‰¿ä¼˜åŒ–

ç»„åˆç»§æ‰¿ä¼˜åŒ–ç¤ºä¾‹ä¸€ï¼š

```js
// Before
Children.prototype = new Parent()

// After
Children.prototype = Parent.prototype
```

è¿™ç§ä¼˜åŒ–æ–¹å¼çš„ç¼ºç‚¹æ˜¯ï¼Œå­ç±»å®ä¾‹å¯¹è±¡çš„æ„é€ å‡½æ•°æ— æ³•åŒºåˆ†æ˜¯å­ç±»æ„é€ å‡½æ•°è¿˜æ˜¯çˆ¶ç±»æ„é€ å‡½æ•°ã€‚

ğŸ“Œ **å®Œç¾å†™æ³•ï¼šå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿**

ç»„åˆç»§æ‰¿ä¼˜åŒ–ç¤ºä¾‹äºŒï¼šé€šè¿‡ä¸­é—´å¯¹è±¡ï¼Œç»§æ‰¿çˆ¶ç±»åŸå‹å¯¹è±¡ï¼Œå®ç°å­ç±»ä¸çˆ¶ç±»çš„éš”ç¦»

```js
function Parent(){
    this.name = 'Parent'
    this.num = [0, 1, 2]
}

function Child(){
    Parent.call(this)
    thi.type = 'Child'
}

Child.prototype = Object.create(Parent.prototype)

Child.prototype.constructor = Child
```