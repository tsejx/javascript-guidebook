<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.a0d229f9.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.5.15
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.includes(e) ? e : r[0]
        );
      })();
    </script>
    <title>RegExp 语法</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/standard-built-in-objects/text-processing/regexp/regexp-rule" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a href="/javascript-guidebook//basic-concept">基本语法</a></span><span><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects">内置对象</a></span><span><a href="/javascript-guidebook//core-modules">核心模块</a></span><span><a href="/javascript-guidebook//object-oriented-programming">OOP</a></span><span><a href="/javascript-guidebook//browser-object-model">BOM</a></span><span><a href="/javascript-guidebook//document-object-model">DOM</a></span><span><a href="/javascript-guidebook//computer-networks">计算机网络</a></span><span><a href="/javascript-guidebook//design-patterns">设计模式</a></span><span><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a href="/javascript-guidebook//design-patterns">设计模式</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//standard-built-in-objects">标准内置对象</a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties">全局对象 - 值属性</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties/infinity"><span>Infinity</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties/na-n"><span>NaN</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties/undefined"><span>undefined</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties">全局对象 - 函数属性</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/eval"><span>eval</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/is-finite"><span>isFinite</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/is-na-n"><span>isNaN</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/parse-float"><span>parseFloat</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/parse-int"><span>parseInt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/decode-uri"><span>decodeURI</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/decode-uricomponent"><span>decodeURIComponent</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/encode-uri"><span>encodeURI</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/encode-uricomponent"><span>encodeURIComponent</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object">Object</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/object"><span>Object</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/assign"><span>Object.assign</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/create"><span>Object.create</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/define-properties"><span>Object.defineProperties</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/define-property"><span>Object.defineProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/entries"><span>Object.entries</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/freeze"><span>Object.freeze</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-descriptor"><span>Object.getOwnPropertyDescriptor</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-descriptors"><span>Object.getOwnPropertyDescriptors</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-names"><span>Object.getOwnPropertyNames</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-symbols"><span>Object.getOwnPropertySymbols</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-prototype-of"><span>Object.getPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is"><span>Object.is</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-extensible"><span>Object.isExtensible</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-frozen"><span>Object.isFrozen</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-sealed"><span>Object.isSealed</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/keys"><span>Object.keys</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/prevent-extensions"><span>Object.preventExtensions</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/seal"><span>Object.seal</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/set-prototype-of"><span>Object.setPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/values"><span>Object.values</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/has-own-property"><span>Object.prototype.hasOwnProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-prototype-of"><span>Object.prototype.isPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/property-is-enumerable"><span>Object.prototype.isPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/to-string"><span>Object.prototype.isPrototypeOf</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function">Function</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/function"><span>Function</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/apply"><span>Function.prototype.apply</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/call"><span>Function.prototype.call</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/bind"><span>Function.prototype.bind</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol">Symbol</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/symbol"><span>Symbol</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/has-instance"><span>Symbol.hasInstance</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/is-concat-spreadable"><span>Symbol.isConcatSpreadable</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/iterator"><span>Symbol.iterator</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/match"><span>Symbol.match</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/replace"><span>Symbol.replace</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/search"><span>Symbol.search</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/species"><span>Symbol.species</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/split"><span>Symbol.split</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/to-primitive"><span>Symbol.toPrimitive</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/to-string-tag"><span>Symbol.toStringTag</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/unscopables"><span>Symbol.unscopables</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects">其他基础对象</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/boolean"><span>Boolean</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/error"><span>Error</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/">数字和日期</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/date"><span>Date</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/math"><span>Math</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/number"><span>Number</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/">String</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/string"><span>String</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/from-char-code"><span>String.fromCharCode</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/from-code-point"><span>String.fromCodePoint</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/raw"><span>String.raw</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/char-at"><span>String.prototype.charAt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/char-code-at"><span>String.prototype.charCodeAt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/code-point-at"><span>String.prototype.codePointAt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/concat"><span>String.prototype.concat</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/ends-with"><span>String.prototype.endsWith</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/includes"><span>String.prototype.includes</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/index-of"><span>String.prototype.indexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/last-index-of"><span>String.prototype.lastIndexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/locale-compare"><span>String.prototype.localeCompare</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/match"><span>String.prototype.match</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/match-all"><span>String.prototype.matchAll</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/normalize"><span>String.prototype.normalize</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/pad-end"><span>String.prototype.padEnd</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/pad-start"><span>String.prototype.padStart</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/repeat"><span>String.prototype.repeat</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace"><span>String.prototype.replace</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/search"><span>String.prototype.search</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/slice"><span>String.prototype.slice</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/split"><span>String.prototype.split</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/starts-with"><span>String.prototype.startsWith</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/substr"><span>String.prototype.substr</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/substring"><span>String.prototype.substring</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/to-lower-case"><span>String.prototype.toLowerCase</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/to-upper-case"><span>String.prototype.toUpperCase</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/trim"><span>String.prototype.trim</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/trim-end"><span>String.prototype.trimEnd</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/trim-start"><span>String.prototype.trimStart</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/">RegExp</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp"><span>RegExp</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule"><span>RegExp 语法</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/exec"><span>RegExp.prototype.exec</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/test"><span>RegExp.prototype.test</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/">Array</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/array"><span>Array</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/array-detection"><span>数组检测</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/from"><span>Array.from</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/is-array"><span>Array.isArray</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/of"><span>Array.of</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/concat"><span>Array.prototype.concat</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/includes"><span>Array.prototype.includes</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/index-of"><span>Array.prototype.indexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/join"><span>Array.prototype.join</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/last-index-of"><span>Array.prototype.lastIndexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/slice"><span>Array.prototype.slice</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/entries"><span>Array.prototype.entries</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/every"><span>Array.prototype.every</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/filter"><span>Array.prototype.filter</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/find"><span>Array.prototype.find</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/find-index"><span>Array.prototype.findIndex</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/for-each"><span>Array.prototype.forEach</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/keys"><span>Array.prototype.keys</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/map"><span>Array.prototype.map</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/reduce"><span>Array.prototype.reduce</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/reduce-right"><span>Array.prototype.reduceRight</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/some"><span>Array.prototype.some</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/fill"><span>Array.prototype.fill</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/pop"><span>Array.prototype.pop</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/push"><span>Array.prototype.push</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/reverse"><span>Array.prototype.reverse</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/shift"><span>Array.prototype.shift</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/sort"><span>Array.prototype.sort</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/splice"><span>Array.prototype.splice</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/unshift"><span>Array.prototype.unshift</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/typed-array"><span>Typed Array</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/">键值集合</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/map"><span>Map</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/set"><span>Set</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/weak-map"><span>WeakMap</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/weak-set"><span>WeakSet</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/">结构化数据</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/array-buffer"><span>ArrayBuffer</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/json"><span>JSON</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/json-parse"><span>JSON.parse</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/json-stringify"><span>JSON.stringify</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/">控制抽象对象</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/iterator"><span>Iterator</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/promise"><span>Promise</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/promise-standard"><span>Promise/A+ 规范</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/all"><span>Promise.all</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/race"><span>Promise.race</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/reject"><span>Promise.reject</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/resolve"><span>Promise.resolve</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/all-settled"><span>Promise.allSettled</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/any"><span>Promise.any</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/catch"><span>Promise.prototype.catch</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/then"><span>Promise.prototype.then</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/generator"><span>Generator</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/generator-async"><span>Generator 函数的异步应用</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/next"><span>Generator.prototype.next</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/return"><span>Generator.prototype.return</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/throw"><span>Generator.prototype.throw</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/">Reflection</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/proxy"><span>Proxy</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/get"><span>Proxy - handler.get</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/set"><span>Proxy - handler.set</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/has"><span>Proxy - handler.has</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/delete-property"><span>Proxy - handler.deleteProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/own-keys"><span>Proxy - handler.ownKeys</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/get-own-property-descriptor"><span>Proxy - handler.getOwnPropertyDescriptor</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/define-property"><span>Proxy - handler.defineProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/prevent-extensions"><span>Proxy - handler.preventExtensions</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/get-prototype-of"><span>Proxy - handler.getPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/is-extensible"><span>Proxy - handler.isExtensions</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/set-prototype-of"><span>Proxy - handler.setPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/apply"><span>Proxy - handler.apply</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/construct"><span>Proxy - handler.construct</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/revocable"><span>Proxy - revocable</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/reflect"><span>Reflect</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="元字符" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#元字符"><span>元字符</span></a></li><li title="字符类别" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#字符类别"><span>字符类别</span></a></li><li title="字符组简记" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#字符组简记"><span>字符组简记</span></a></li><li title="任意字符" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#任意字符"><span>任意字符</span></a></li><li title="转义字符" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#转义字符"><span>转义字符</span></a></li><li title="双重转义" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#双重转义"><span>双重转义</span></a></li><li title="字符集合" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#字符集合"><span>字符集合</span></a></li><li title="范围" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#范围"><span>范围</span></a></li><li title="排除" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#排除"><span>排除</span></a></li><li title="数量词" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#数量词"><span>数量词</span></a></li><li title="选择" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#选择"><span>选择</span></a></li><li title="贪婪模式" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#贪婪模式"><span>贪婪模式</span></a></li><li title="懒惰模式" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#懒惰模式"><span>懒惰模式</span></a></li><li title="分组与反向引用" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#分组与反向引用"><span>分组与反向引用</span></a></li><li title="分组" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#分组"><span>分组</span></a></li><li title="捕获" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#捕获"><span>捕获</span></a></li><li title="反向引用" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#反向引用"><span>反向引用</span></a></li><li title="非捕获" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#非捕获"><span>非捕获</span></a></li><li title="断言" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#断言"><span>断言</span></a></li><li title="单词边界" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#单词边界"><span>单词边界</span></a></li><li title="起始结束" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#起始结束"><span>起始结束</span></a></li><li title="环视" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#环视"><span>环视</span></a></li><li title="匹配模式" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#匹配模式"><span>匹配模式</span></a></li><li title="不区分大小写模式" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#不区分大小写模式"><span>不区分大小写模式</span></a></li><li title="多行模式" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#多行模式"><span>多行模式</span></a></li><li title="全局模式" data-depth="3"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#全局模式"><span>全局模式</span></a></li><li title="优先级" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#优先级"><span>优先级</span></a></li><li title="局限性" data-depth="2"><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#局限性"><span>局限性</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="regexp-语法"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#regexp-语法"><span class="icon icon-link"></span></a>RegExp 语法</h1><h2 id="元字符"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#元字符"><span class="icon icon-link"></span></a>元字符</h2><p><strong>元字符（Meta-Character）</strong> 指那些在正则表达式中具有特殊意义的专用字符，可以用来规定其前导字符（即位于元字符前面的字符）在目标对象中的出现模式。</p><table><thead><tr><th align="left">元字符</th><th align="left">名称</th><th align="left">匹配对象</th></tr></thead><tbody><tr><td align="left"><code>.</code></td><td align="left">点号</td><td align="left">单个任意字符(除回车 <code>\r</code>、换行 <code>\n</code>、行分隔符 <code>\u2028</code> 和段分隔符 <code>\u2029</code> 外)</td></tr><tr><td align="left"><code>[]</code></td><td align="left">字符组</td><td align="left">列出的单个任意字符</td></tr><tr><td align="left"><code>[^]</code></td><td align="left">排除型字符组</td><td align="left">未列出的单个任意字符</td></tr><tr><td align="left"><code>?</code></td><td align="left">问号</td><td align="left">匹配 0 次或 1 次</td></tr><tr><td align="left"><code>*</code></td><td align="left">星号</td><td align="left">匹配 0 次或多次</td></tr><tr><td align="left"><code>+</code></td><td align="left">加号</td><td align="left">匹配 1 次或多次</td></tr><tr><td align="left"><code>{<!-- -->min,max<!-- -->}</code></td><td align="left">区间量词</td><td align="left">匹配至少 min 次，最多 max 次</td></tr><tr><td align="left"><code>^</code></td><td align="left">脱字符</td><td align="left">行的起始位置</td></tr><tr><td align="left"><code>$</code></td><td align="left">美元符</td><td align="left">行的结束位置</td></tr><tr><td align="left">`</td><td align="left">`</td><td align="left">竖线</td></tr><tr><td align="left"><code>()</code></td><td align="left">括号</td><td align="left">限制多选结构的范围，标注量词作用的元素，为反向引用捕获文本</td></tr><tr><td align="left"><code>\1,\2...</code></td><td align="left">反向引用</td><td align="left">匹配之前的第一、第二...组括号内的表达式匹配的文本</td></tr></tbody></table><h2 id="字符类别"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#字符类别"><span class="icon icon-link"></span></a>字符类别</h2><h3 id="字符组简记"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#字符组简记"><span class="icon icon-link"></span></a>字符组简记</h3><p>用 <code>[0-9]</code>、<code>[a-z]</code> 等字符组，可以很方便地表示数字字符和小写字母字符。对于这类常用字符组，正则表达式提供了更简单的记法，这就是<strong>字符组简记（Shorthands）</strong>。</p><p>常见的字符组简记有 <code>\d</code>、<code>\w</code>、<code>\s</code>，其中：</p><ul><li><code>d</code> 表示（Digit）数字</li><li><code>w</code> 表示（Word）单词</li><li><code>s</code> 表示（Space）空白</li></ul><p>正则表达式也提供了对应排除型字符组的简记法：<code>\D</code>、<code>\W</code>、<code>\S</code>。字母完全相同，只是改为大写，这些简记法匹配的字符互补。</p><table><thead><tr><th align="center">字符</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>\d</code></td><td align="center">数字，等同于 <code>[0-9]</code></td></tr><tr><td align="center"><code>\D</code></td><td align="center">非数字，等同于 <code>[^0-9]</code></td></tr><tr><td align="center"><code>\s</code></td><td align="center">空白字符，等同于 <code>[\f\n\r\t\u000B\u0020\u00A0\u2028\u2029]</code></td></tr><tr><td align="center"><code>\S</code></td><td align="center">非空白字符，等同于 <code>[^\f\n\r\t\u000B\u0020\u00A0\u2028\u2029]</code></td></tr><tr><td align="center"><code>\w</code></td><td align="center">字母、数字、下划线，等同于 <code>[0-9A-Za-z_]</code></td></tr><tr><td align="center"><code>\W</code></td><td align="center">非字母、数字、下划线，等同于 <code>[^0-9A-Za-z_]</code></td></tr></tbody></table><h3 id="任意字符"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#任意字符"><span class="icon icon-link"></span></a>任意字符</h3><table><thead><tr><th align="left">字符</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>.</code></td><td align="left">表示除回车 <code>(\r)</code>、换行 <code>(\n)</code>、行分隔符 <code>(\u2028)</code> 和段分隔符 <code>(\u2029)</code> 以外的任意字符。</td></tr></tbody></table><blockquote><p>⚠️ <strong>注意</strong>：一般认为点号可以代表任意字符，其实并不是</p><p>妥善的利用互补属性，可以得到一些巧妙的效果。比如，<code>[\s\S]</code>、<code>[\w\W]</code>、<code>[\d\D]</code> 都可以表示任意字符。</p></blockquote><p><strong>匹配任意字符</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">.</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;\r&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">\s\</span><span class="token constant">S</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;\r&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><h3 id="转义字符"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#转义字符"><span class="icon icon-link"></span></a>转义字符</h3><p><strong>转义字符（Escape）</strong> 表示为反斜线 <code>\</code> 加字符的形式，共有以下 3 种情况。</p><table><thead><tr><th align="left">字符</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>\</code> + 元字符</td><td align="left">匹配元字符</td></tr><tr><td align="left"><code>\</code> + <code>]</code> 或 <code>\</code> + <code>}</code></td><td align="left">右方括号和右花括号无需转义</td></tr><tr><td align="left"><code>\</code> + 非元字符</td><td align="left">表示一些不能打印的特殊字符</td></tr><tr><td align="left"><code>\</code> + 除上述其他字符</td><td align="left">默认情况匹配此字符</td></tr></tbody></table><br/><p>因为元字符有特殊的含义，所以无法直接匹配。如果要匹配它们本身，则需要在它们前面加上反斜杠 <code>\</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">1+1</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1+1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token number">1</span><span class="token plain">\</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1+1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\</span><span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;*&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/*/.test(&#x27;*&#x27;);</span></div><div class="token-line"><span class="token comment">// 报错</span></div></pre></div><p>但实际上，并非 14 个元字符都需要转义，右方括号 <code>]</code> 和右花括号 <code>}</code> 不需要转义</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;]&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;]&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;}&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;}&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><p><code>\</code> 加非元字符，表示一些不能打印的特殊字符。</p><br/><table><thead><tr><th align="center">字符</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>\0</code></td><td align="center">NUL 字符 <code>\u0000</code></td></tr><tr><td align="center"><code>[\b]</code></td><td align="center">匹配退格符 <code>\u0008</code>，不要与 <code>\b</code> 混淆</td></tr><tr><td align="center"><code>\t</code></td><td align="center">制表符 <code>\u0009</code></td></tr><tr><td align="center"><code>\n</code></td><td align="center">换行符 <code>\u000A</code></td></tr><tr><td align="center"><code>\v</code></td><td align="center">垂直制表符 <code>\u000B</code></td></tr><tr><td align="center"><code>\f</code></td><td align="center">换页符 <code>\u000C</code></td></tr><tr><td align="center"><code>\r</code></td><td align="center">回车符 <code>\u000D</code></td></tr><tr><td align="center"><code>\xnn</code></td><td align="center">由十六进制数 <code>nn</code> 指定的拉丁字符</td></tr><tr><td align="center"><code>\uxxxx</code></td><td align="center">由十六进制数 <code>xxxx</code> 指定的 Unicode 字符( <code>\u4e00</code> - <code>\u9fa5</code> 代表中文)</td></tr><tr><td align="center"><code>\cX</code></td><td align="center">控制字符 <code>^X</code>，表示 <code>ctrl-[X]</code> ，其中的 X 是 A-Z 之中任一个英文字母，用来匹配控制字符</td></tr></tbody></table><p><code>\</code> 加任意其他字符，默认情况就是匹配此字符，也就是说，反斜线 <code>(\)</code> 被忽略了。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\x</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;x&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\y</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;y&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\z</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;z&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><h3 id="双重转义"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#双重转义"><span class="icon icon-link"></span></a>双重转义</h3><p>由于 <code>RegExp</code> 构造函数的参数是字符串，所以某些情况下，需要对字符进行 <strong>双重转义</strong>。</p><p>字符 <code>\</code> 在正则表达式字符串中通常被转义为 <code>\\</code> 。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> reg1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.at</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 等价于</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> reg2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#x27;\\.at&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> reg3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">name\/age</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 等价于</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> reg4 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#x27;name\\/age&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> reg5 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\w\\hello\\123</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 等价于</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> reg6 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#x27;\\w\\\\hello\\\\123&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><h2 id="字符集合"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#字符集合"><span class="icon icon-link"></span></a>字符集合</h2><p><strong>字符集合（Character Sets）</strong>，有的编译成字符类或字符集。简单而言，就是指用方括号表示的一组字符，它匹配若干字符之一。</p><table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td><code>[xyz]</code></td><td>一个字符集合，也叫字符组。匹配集合中任意一个字符。可以使用 <code>-</code> 指定一个范围。</td></tr><tr><td><code>[^xyz]</code></td><td>一个反义或补充字符集，也叫反义字符组。匹配任意不包括括号内的字符。可以使用 <code>-</code> 指定一个范围。</td></tr></tbody></table><br/><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 匹配 0-9 这 10 个数字之一</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0123456789]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">regexp</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">regexp</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><p>字符组中的字符排列顺序并不影响字符组的功能，出现重复字符也不会影响。</p><p>以下三个表达式都是相等的。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0123456789]</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[9876543210] </span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[1234567890123456789]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span></div></pre></div><h3 id="范围"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#范围"><span class="icon icon-link"></span></a>范围</h3><p>正则表达式通过连字符 <code>(-)</code> 提供了范围表示法，可以简化字符组</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0123456789]</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 等价于</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0-9]</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[abcdefghijklmnopqrstuvwxyz]</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 等价于</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp4 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[a-z]</span><span class="token regex regex-delimiter">/</span></div></pre></div><p>连字符 <code>(-)</code> 表示的范围是根据 ASCII 编码的码值来确定的，码值小的在前，码值大的在后。</p></div><img alt="ASCII编码表" src="/javascript-guidebook/static/ascii.fdc66ecd.gif" width="720"/><div class="markdown"><p>所以 <code>[0-9]</code> 是合法的，而 <code>[9-0]</code> 会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">//匹配 0-9 这 10 个数字之一</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0-9]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">regexp1</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[9-0]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">regexp2</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><p>在字符组中可以同时并列多个 <code>-</code> 范围。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0-9a-zA-Z]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 匹配数字、大写字母和小写字母</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0-9a-fA-F]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 匹配数字，大、小写形式的a-f，用来验证十六进制字符</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0-9a-fA-F]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;d&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp4 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[0-9a-fA-F]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;x&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><p>只有在字符组内部，连字符 <code>-</code> 才是元字符，表示一个范围，否则它就只能匹配普通的连字符号。</p><p>如果连字符出现在字符组的开头或末尾，它表示的也是普通的连字符号，而不是一个范围。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 匹配中划线</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">-</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 匹配0-9的数字或中划线</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token plain">\</span><span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">\</span><span class="token operator">-</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><h3 id="排除"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#排除"><span class="icon icon-link"></span></a>排除</h3><p>字符组的另一个类型是 <strong>排除型字符组</strong>，在左方括号后紧跟一个脱字符 <code>^</code> 表示，表示在当前位置匹配一个没有列出的字符。</p><p>所以 <code>[^0-9]</code> 表示 0-9 以外的字符。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 匹配第一个是数字字符，第二个不是数字字符的字符串</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1e&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;q2&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><p>在字符组内部，脱字符 <code>^</code> 表示排除，而在字符组外部，脱字符 <code>^</code> 表示一个行锚点。</p><p><code>^</code> 符号是元字符，在字符组中只要 <code>^</code> 符号不挨着左方括号就可以表示其本身含义，不转义也可以。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 匹配 abc 和 ^ 符号</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token operator">-</span><span class="token plain">c</span><span class="token operator">^</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;^&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token operator">-</span><span class="token plain">c\</span><span class="token operator">^</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;^&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">\</span><span class="token operator">^</span><span class="token plain">a</span><span class="token operator">-</span><span class="token plain">c</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;^&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><p>在字符组中，只有 <code>^</code> 、 <code>-</code> 、<code>[</code> 、<code>]</code> 这 4 个字符可能被当做元字符，其他有元字符功能的字符都只表示其本身。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[[1]]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;[&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;]&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">\</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;\\&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token operator">^</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;^&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">\</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token plain">\</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;[&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">\</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token plain">\</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;]&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token plain">\\</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;\\&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;^&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">2</span><span class="token plain">\</span><span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><h2 id="数量词"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#数量词"><span class="icon icon-link"></span></a>数量词</h2><p>正则表达式提供了量词，用来设定某个模式出现的次数。</p><table><thead><tr><th align="left">字符</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>x*</code></td><td align="left">相当于 <code>x<!-- -->{<!-- -->0,<!-- -->}</code> （匹配任意多次）</td></tr><tr><td align="left"><code>x+</code></td><td align="left">相当于 <code>x<!-- -->{<!-- -->1,<!-- -->}</code>（匹配至少一次）</td></tr><tr><td align="left"><code>x?</code></td><td align="left">相当于 <code>x<!-- -->{<!-- -->0,1<!-- -->}</code> （不匹配或匹配一次）</td></tr><tr><td align="left"><code>x*?</code> 或 <code>x+?</code></td><td align="left">相当于 <code>*</code> 和 <code>+</code>字符，然而匹配的是最小可能匹配</td></tr><tr><td align="left"><code>x(?=y)</code></td><td align="left">只有当 <code>x</code> 后面紧跟着 <code>y</code> 时，才匹配 <code>x</code>。（了解详情请看 <a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#%E7%8E%AF%E8%A7%86">环视</a>）</td></tr><tr><td align="left"><code>x(?!y)</code></td><td align="left">只有当 <code>x</code> 后面不是紧跟着 <code>y</code> 时，才匹配 <code>x</code>。（了解详情请看 <a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#%E7%8E%AF%E8%A7%86">环视</a>）</td></tr><tr><td align="left"><code>x|y</code>（这里是没有 <code>\</code> 的）</td><td align="left">匹配 <code>x</code> 或 <code>y</code></td></tr><tr><td align="left"><code>x<!-- -->{<!-- -->n<!-- -->}</code></td><td align="left">匹配 <code>n</code> 次（<code>n</code> 为正整数）</td></tr><tr><td align="left"><code>x<!-- -->{<!-- -->n,m<!-- -->}</code></td><td align="left">匹配至少 <code>n</code> 次，最多 <code>m</code> 次（<code>n</code> 和 <code>m</code> 为正整数）</td></tr><tr><td align="left"><code>x<!-- -->{<!-- -->n,<!-- -->}</code></td><td align="left">匹配至少 <code>n</code> 次（<code>n</code> 为正整数）</td></tr></tbody></table><br/><p>邮政编码</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 表示邮政编码 6 位数字</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\d{6}</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span></div></pre></div><p>美国英语和英国英语有些词的写法不一样，如果 <code>traveler</code> 和 <code>traveller</code>，<code>favor</code> 和 <code>favour</code>，<code>color</code> 和 <code>colour</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 同时匹配美国英语和英国英语单词</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">travell?er</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">favou?r</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">colou?r</span><span class="token regex regex-delimiter">/</span></div></pre></div><p>协议名有 HTTP 和 HTTPS 两种：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">https?</span><span class="token regex regex-delimiter">/</span></div></pre></div><h3 id="选择"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#选择"><span class="icon icon-link"></span></a>选择</h3><p>竖线 <code>|</code> 在正则表达式中表示或关系的选择，以竖线 <code>|</code> 分隔开的多个子表达式也叫选择分支或选择项。在一个选择结构中，选择分支的数目没有限制。</p><p>在选择结构中，竖线 <code>|</code> 用来分隔选择项，而括号 <code>()</code> 用来规定整个选择结构的范围。如果没有出现括号，则将整个表达式视为一个选择结构。</p><p>选择项的尝试匹配次序是从左到右，直到发现了匹配项，如果某个选择项匹配就忽略右侧其他选择项，如果所有子选择项都不匹配，则整个选择结构匹配失败。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">12|23|34</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// null</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">|</span><span class="token number">23</span><span class="token operator">|</span><span class="token number">34</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;12&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;12&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">|</span><span class="token number">23</span><span class="token operator">|</span><span class="token number">34</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;23&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;23&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">|</span><span class="token number">23</span><span class="token operator">|</span><span class="token number">34</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;2334&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;23&#x27;]</span></div></pre></div><p>IP 地址一般由 3 个点号和 4 段数字组成，每段数字都在 0-255 之间。</p><ul><li>0-199：<code>[01]?\d\d?</code></li><li>200-249：<code>2[0-4]\d</code></li><li>250-255：<code>25[0-5]</code></li></ul><p>IP 地址：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> ipRegExp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">((2[0-4]\d|25[0-5]|[0-1]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[0-1]?\d\d?)</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">ipRegExp</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1.1.1.1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">ipRegExp</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1.1.1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">ipRegExp</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;256.1.1.1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><p>类似地，时间匹配也需要分段处理：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 月(1-12)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token number">0</span><span class="token operator">?</span><span class="token plain">\d</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 日(1-31)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token number">0</span><span class="token operator">?</span><span class="token plain">\d</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token plain">\d</span><span class="token operator">|</span><span class="token number">3</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 小时(0-24)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token number">0</span><span class="token operator">?</span><span class="token plain">\d</span><span class="token operator">|</span><span class="token number">1</span><span class="token plain">\d</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 分钟(0-60)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token number">0</span><span class="token operator">?</span><span class="token plain">\d</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token plain">\d</span><span class="token operator">|</span><span class="token number">60</span></div></pre></div><p>手机号一般是 11 位，前 3 位是号段，后 8 位一般没有限制。而且，在手机开头很可能有 0 或+86。</p><ul><li>开头：<code>(0|\+86)?</code></li><li>前 3 位：<code>13\d|14[579]|15[0-35-9]|17[0135-8]|18\d</code></li><li>后 8 位：<code>\d<!-- -->{<!-- -->8<!-- -->}</code></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> phone </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(0|\+86)?(13\d|14[579]|15[0-35-9]|17[0135-8]|18\d)\d{8}</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">phone</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;13453250661&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">phone</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1913250661&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">phone</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;1345325061&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><p>在选择结构中，应该尽量避免选择分支中存在重复匹配，因为这样会大大增加回溯的计算量</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 错误示范 🙅‍♂️</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">a|[ab][0-9]|\w</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span></div></pre></div><h3 id="贪婪模式"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#贪婪模式"><span class="icon icon-link"></span></a>贪婪模式</h3><p>默认情况下，量词都是<strong>贪婪模式（Greedy quantifier）</strong>，即匹配到下一个字符不满足匹配规则为止。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// exec 方法以数组的形式返回匹配结果</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;aaa&#x27;]</span></div></pre></div><h3 id="懒惰模式"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#懒惰模式"><span class="icon icon-link"></span></a>懒惰模式</h3><p><strong>懒惰模式（Lazy quantifier）</strong> 和贪婪模式相对应，在量词后加问号 <code>?</code> 表示，表示尽可能少的匹配，一旦条件满足就再不往下匹配。</p><table><thead><tr><th align="left">符号</th><th align="left">释义</th></tr></thead><tbody><tr><td align="left"><code>{<!-- -->n<!-- -->}<!-- -->?</code></td><td align="left">匹配 <code>n</code> 次</td></tr><tr><td align="left"><code>{<!-- -->n,m<!-- -->}<!-- -->?</code></td><td align="left">匹配至少 <code>n</code> 次，最多 <code>m</code> 次</td></tr><tr><td align="left"><code>{<!-- -->n,<!-- -->}<!-- -->?</code></td><td align="left">匹配至少 <code>n</code> 次</td></tr><tr><td align="left"><code>??</code></td><td align="left">相当于<code>{<!-- -->0,1<!-- -->}</code></td></tr><tr><td align="left"><code>*?</code></td><td align="left">相当于<code>{<!-- -->0,<!-- -->}</code></td></tr><tr><td align="left"><code>+?</code></td><td align="left">相当于<code>{<!-- -->1,<!-- -->}</code></td></tr></tbody></table><br/><p>示例：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">a+?</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;a&#x27;]</span></div></pre></div><p>匹配 <code>&lt;script&gt;&lt;/script&gt;</code> 之间的代码看上去很容易</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;script&gt;[\s\S]*&lt;\/script&gt;</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">regexp</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;script&gt;alert(&quot;1&quot;);&lt;/script&gt;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&quot;&lt;script&gt;alert(&quot;1&quot;);&lt;/script&gt;&quot;]</span></div></pre></div><p>但如果多次出现 <code>script</code> 标签，就会出问题</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;script&gt;[\s\S]*&lt;\/script&gt;</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">regexp</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;script&gt;alert(&quot;1&quot;);&lt;/script&gt;&lt;br&gt;&lt;script&gt;alert(&quot;2&quot;);&lt;/script&gt;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&quot;&lt;script&gt;alert(&quot;1&quot;);&lt;/script&gt;&lt;br&gt;&lt;script&gt;alert(&quot;2&quot;);&lt;/script&gt;&quot;]</span></div></pre></div><p>它把无用的 <code>&lt;br&gt;</code> 标签也匹配出来了，此时就需要使用懒惰模式</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;script&gt;[\s\S]*?&lt;\/script&gt;</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">regexp</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;script&gt;alert(&quot;1&quot;);&lt;/script&gt;&lt;br&gt;&lt;script&gt;alert(&quot;2&quot;);&lt;/script&gt;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&quot;&lt;script&gt;alert(&quot;1&quot;);&lt;/script&gt;&quot;]</span></div></pre></div><p>在 JavaScript 中，<code>/* */</code> 是注释的一种形式，在文档中可能出现多次，这时就必须使用懒惰模式</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\/\*[\s\S]*?\*\/</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">regexp</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;/*abc*/&lt;br&gt;/*123*/&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&quot;/*abc*/&quot;]</span></div></pre></div><h2 id="分组与反向引用"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#分组与反向引用"><span class="icon icon-link"></span></a>分组与反向引用</h2><h3 id="分组"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#分组"><span class="icon icon-link"></span></a>分组</h3><p>量词控制之前元素的出现次数，而这个元素可能是一个字符，也可能是一个字符组，也可以是一个表达式。</p><p>如果把一个表达式用括号包围起来，这个元素就是括号里的表达式，被称为 <strong>子表达式</strong>。</p><p><strong>示例 1</strong>：如果希望字符串 <code>ab</code> 重复出现 2 次，应该写为 <code>(ab)<!-- -->{<!-- -->2<!-- -->}</code>，而如果写为 <code>ab<!-- -->{<!-- -->2<!-- -->}</code>，则 <code>{<!-- -->2<!-- -->}</code> 只限定 <code>b</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(ab){2}</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abab&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token plain">ab</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abb&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">ab</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abab&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">ab</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abb&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><p><strong>示例 2</strong>：身份证长度有 15 位和 18 位两种，如果只匹配长度，可能会想当然地写成 <code>\d<!-- -->{<!-- -->15,18<!-- -->}</code>，实际上这是错误的，因为它包括 15、16、17、18 这四种长度。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 正确写法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> idCard </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\d{15}(\d{3})?</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span></div></pre></div><p><strong>示例 3</strong>：Email 地址以 <code>@</code> 分隔成两段，之前的部分是用户名，之后的部分是主机名。</p><p>用户名允许出现数字、字母和下划线，长度一般在 1-64 个字符之间，则正则可表示为 <code>/\w<!-- -->{<!-- -->1,64<!-- -->}<!-- -->/</code></p><p>主机名一般表现为 <code>a.b.···.c</code>，其中 <code>c</code> 为主域名，其他为级数不定的子域名，则正则可表示为 <code>/([-a-zA-z0-9]<!-- -->{<!-- -->1,63<!-- -->}<!-- -->\.)+[-a-zA-Z0-9]<!-- -->{<!-- -->1,63<!-- -->}<!-- -->/</code></p><p>所以 email 地址的正则表达式如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> email </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\w{1,64}@([-a-zA-z0-9]{1,63}\.)+[-a-zA-Z0-9]{1,63}</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">email</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;q@qq.com&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">email</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;q@qq&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">email</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;q@a.qq.com&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><h3 id="捕获"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#捕获"><span class="icon icon-link"></span></a>捕获</h3><p>括号不仅可以对元素进行分组，还会保存每个分组匹配的文本，等到匹配完成后，引用捕获的内容。因为捕获了文本，这种功能叫 <strong>捕获分组</strong>。</p><p>比如，要匹配诸如 <code>2016-06-23</code> 这样的日期字符串</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(\d{4})-(\d{2})-(\d{2})</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">;</span></div></pre></div><p>与以往不同的是，年、月、日这三个数值被括号括起来了，从左到右为第 1 个括号、第 2 个括号和第 3 个括号，分别代表第 1、2、3 个捕获组。</p><p>JavaScript 有 9 个用于存储捕获组的构造函数属性。</p><p><code>RegExp.$1</code>、<code>RegExp.$2</code>、<code>RegExp.$3</code> 到 <code>RegExp.$9</code> 分别用于存储第一、第二第九个匹配的捕获组。</p><p>在调用 <code>exec()</code> 或 <code>test()</code> 方法时，这些属性会被自动填充。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(\d{4})-(\d{2})-(\d{2})</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;2016-06-23&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation">.</span><span class="token property-access">$</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;2016&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation">.</span><span class="token property-access">$</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;06&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation">.</span><span class="token property-access">$</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;23&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation">.</span><span class="token property-access">$</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;&#x27;</span></div></pre></div><p>而 <code>exec()</code> 方法是专门为捕获组而设计的，返回的数组中，第一项是与整个模式匹配的字符串，其他项是与模式中的捕获组匹配的字符串。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(\d{4})-(\d{2})-(\d{2})</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;2016-06-23&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&quot;2016-06-23&quot;, &quot;2016&quot;, &quot;06&quot;, &quot;23&quot;]</span></div></pre></div><p>捕获分组捕获的文本，不仅可以 <strong>用于数据提取</strong>，也可以 <strong>用于替换</strong>。</p><p><code>replace()</code> 方法就是用于进行数据替换的，该方法接收两个参数，第一个参数为待查找的内容，而第二个参数为替换的内容。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token string">&#x27;2000-01-01&#x27;</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">-</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 2000.01.01</span></div></pre></div><p>在 <code>replace()</code> 方法中也可以引用分组，形式是 <code>$num</code>， <code>num</code> 是对应分组的编号。</p><p>把 <code>2000-01-01</code> 的形式变成 <code>01-01-2000</code> 的形式：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token string">&#x27;2000-01-01&#x27;</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(\d{4})-(\d{2})-(\d{2})</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;$3-$2-$1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//&#x27;01-01-2000&#x27;</span></div></pre></div><h3 id="反向引用"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#反向引用"><span class="icon icon-link"></span></a>反向引用</h3><p>英文中不少单词都有重叠出现的字母，如 <code>shoot</code> 或 <code>beep</code>。若想检查某个单词是否包含重叠出现的字母，则需要引入 <strong>反向引用（back-reference）</strong></p><p>反向引用允许在正则表达式内部引用之前捕获分组匹配的文本，形式是 <code>\num</code>，<code>num</code> 表示所引用分组的编号。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">//重复字母</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token operator">-</span><span class="token plain">z</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain">\</span><span class="token number">1</span><span class="token operator">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">([a-z])\1</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;aa&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token operator">-</span><span class="token plain">z</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain">\</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;ab&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><p>反向引用可以用于建立前后联系。HTML 标签的开始标签和结束标签是对应的。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 开始标签</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> startIndex </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;([^&gt;]+)&gt;</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 标签内容</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> content </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[\s\S]*?</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 匹配成对的标签</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> couple </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;([^&gt;]+)&gt;[\s\S]*?&lt;\/\1&gt;</span><span class="token regex regex-delimiter">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token plain">\s\</span><span class="token constant">S</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token plain">\</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\1&gt;</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;a&gt;123&lt;/a&gt;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">^</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token plain">\s\</span><span class="token constant">S</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token plain">\</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\1&gt;</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;a&gt;123&lt;/b&gt;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><h3 id="非捕获"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#非捕获"><span class="icon icon-link"></span></a>非捕获</h3><p>除了捕获分组，正则表达式还提供了 <strong>非捕获分组(non-capturing group)</strong>，以 <code>(?:)</code> 的形式表示，它只用于限定作用范围，而不捕获任何文本。</p><p>比如，要匹配 <code>abcabc</code> 这个字符，一般地，可以写为 <code>(abc)<!-- -->{<!-- -->2<!-- -->}</code>，但由于并不需要捕获文本，只是限定了量词的作用范围，所以应该写为 <code>(?:abc)<!-- -->{<!-- -->2<!-- -->}</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(abc){2}</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abcabc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain">abc</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abcabc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><p>由于非捕获分组不捕获文本，对应地，也就没有捕获组编号。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(abc){2}</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abcabc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation">.</span><span class="token property-access">$</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;abc&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain">abc</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abcabc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation">.</span><span class="token property-access">$</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;&#x27;</span></div></pre></div><p>非捕获分组也不可以使用反向引用。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(?:123)\1</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;123123&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token plain">\</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;123123&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><p>捕获分组和非捕获分组可以在一个正则表达式中同时出现。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(\d)(\d)(?:\d)(\d)(\d)</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;12345&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&quot;12345&quot;, &quot;1&quot;, &quot;2&quot;, &quot;4&quot;, &quot;5&quot;]</span></div></pre></div><h2 id="断言"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#断言"><span class="icon icon-link"></span></a>断言</h2><p>在正则表达式中，有些结构并不真正匹配文本，而只负责判断在某个位置左/右侧是否符合要求，这种结构被称为 <strong>断言（assertion）</strong>，也称为 <strong>锚点（anchor）</strong>，常见的断言有 3 种：</p><ul><li>单词边界</li><li>起始结束</li><li>环视</li></ul><h3 id="单词边界"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#单词边界"><span class="icon icon-link"></span></a>单词边界</h3><p>在文本处理中可能会经常进行单词替换，比如把 <code>row</code> 替换成 <code>line</code>。但是，如果直接替换，不仅所有单词 <code>row</code> 都被替换成 <code>line</code>，单词内部的 <code>row</code> 也会被替换成 <code>line</code>。要想解决这个问题，必须有办法确定单词 <code>row</code>，而不是字符串 <code>row</code>。</p><p>为了解决这类问题，正则表达式提供了专用的 <strong>单词边界（word boundary）</strong>，记为 <code>\b</code> ，它匹配的是 单词边界 的位置，而不是字符。<code>\b</code> 匹配的是一边是单词字符 <code>\w</code> ，一边是非单词字符 <code>\W</code> 的位置</p><p>与 <code>\b</code> 对应的还有 <code>\B</code>，表示非单词边界，但实际上 <code>\B</code> 很少使用</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\ban\b</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;an apple&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\ban\b</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;a an&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\ban\b</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;an&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\ban\b</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;and&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\ban\b</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;ban&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><h3 id="起始结束"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#起始结束"><span class="icon icon-link"></span></a>起始结束</h3><p>常见的断言还有 <code>^</code> 和 <code>$</code>，它们分别匹配字符串的开始位置和结束位置，所以可以用来判断整个字符串能否由表达式匹配。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">//匹配第一个单词</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">^</span><span class="token plain">\w</span><span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;first word\nsecond word\nthird word&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;first&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//匹配最后一个单词</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">\w</span><span class="token operator">*</span><span class="token plain">$</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;first word\nsecond word\nthird word&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;word&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">^</span><span class="token plain">a$</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;a\n&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">^</span><span class="token plain">a$</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><p><code>^</code> 和 <code>$</code> 的常用功能是删除字符串首尾多余的空白，类似于字符串 <code>String</code> 对象的 <code>trim()</code> 方法。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">fnTrim</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^\s+|\s+$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">fnTrim</span><span class="token punctuation">(</span><span class="token string">&#x27;      hello world   &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;hello world&#x27;</span></div></pre></div><h3 id="环视"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#环视"><span class="icon icon-link"></span></a>环视</h3><p><strong>环视（Look-around）</strong>，可形象地解释为停在原地，四处张望。环视类似于单词边界，在它旁边的文本需要满足某种条件，而且本身不匹配任何字符。</p><p>环视分为 <strong>正序环视</strong> 和 <strong>逆序环视</strong>，而 JavaScript 只支持正序环视，相当于只支持向前看，不支持往回看。</p><p>而正序环视又分为 <strong>肯定正序环视</strong> 和 <strong>否定正序环视</strong>。</p><table><thead><tr><th align="left">符号</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>x(?=y)</code></td><td align="left"><strong>肯定</strong> 正序环视，表示 <code>x</code> 后紧跟着 <code>y</code> 才匹配</td></tr><tr><td align="left"><code>x(?!y)</code></td><td align="left"><strong>否定</strong> 正序环视，表示 <code>x</code> 后不紧跟着 <code>y</code> 才匹配</td></tr></tbody></table><br/><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">a(?=b)</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;a&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span><span class="token plain">b</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;ac&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// null</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span><span class="token plain">b</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// null</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span><span class="token plain">b</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;ac&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;a&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span><span class="token plain">b</span><span class="token punctuation">)</span><span class="token plain">b</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;ab&#x27;]</span></div></pre></div><p>环视虽然也用到括号，却与捕获型分组编号无关；但如果环视结构出现捕获型括号，则会影响分组。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">ab(?=cd)</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;abcd&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;ab&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token function">ab</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token plain">cd</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span><span class="token string">&#x27;abcd&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;ab&#x27;,&#x27;cd&#x27;]</span></div></pre></div><h2 id="匹配模式"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#匹配模式"><span class="icon icon-link"></span></a>匹配模式</h2><p><strong>匹配模式（Match Mode）</strong> 指匹配时使用的规则。设置特定的模式，可能会改变对正则表达式的识别。</p><h3 id="不区分大小写模式"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#不区分大小写模式"><span class="icon icon-link"></span></a>不区分大小写模式</h3><p>默认地，正则表达式是 <strong>区分大小写</strong> 的，通过设置标志 <code>i</code>，可以 <strong>忽略大小写（ignore case）</strong>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">ab</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;aB&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">ab</span><span class="token operator">/</span><span class="token plain">i</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;aB&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><h3 id="多行模式"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#多行模式"><span class="icon icon-link"></span></a>多行模式</h3><p>默认地，正则表达式中的 <code>^</code> 和 <code>$</code> 匹配的是整个字符串的起始位置和结束位置，而通过设置标志 <code>m</code>，开启多行模式，它们也能匹配字符串内部某一行文本的起始位置和结束位置。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// example 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">world$</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;hello world\n&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token plain">world$</span><span class="token operator">/</span><span class="token plain">m</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;hello world\n&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// example 2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">^</span><span class="token plain">b</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;a\nb&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">^</span><span class="token plain">b</span><span class="token operator">/</span><span class="token plain">m</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;a\nb&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><h3 id="全局模式"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#全局模式"><span class="icon icon-link"></span></a>全局模式</h3><p>默认地，第一次匹配成功后，正则对象就停止向下匹配了。<code>g</code> 修饰符表示 <strong>全局匹配（global）</strong>，设置 <code>g</code> 标志后，正则对象将匹配全部符合条件的结果，主要用于搜索和替换。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token string">&#x27;1a,2a,3a&#x27;</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">a</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;b&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;1b,2a,3a&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token string">&#x27;1a,2a,3a&#x27;</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">a</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;b&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;1b,2b,3b&#x27;</span></div></pre></div><h2 id="优先级"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#优先级"><span class="icon icon-link"></span></a>优先级</h2><p>下表为正则表达式符号优先级排序，从上到下，优先级逐渐降低（优先级数值越大，优先级越高）。</p><table><thead><tr><th align="left">符号</th><th align="left">符号名称</th><th align="left">优先级</th></tr></thead><tbody><tr><td align="left"><code>\</code></td><td align="left">转义符</td><td align="left">5</td></tr><tr><td align="left"><code>()</code> <code>(?!)</code> <code>(?=)</code> <code>[]</code></td><td align="left">括号、字符集、环视</td><td align="left">4</td></tr><tr><td align="left"><code>*</code> <code>+</code> <code>?</code> <code>{<!-- -->n<!-- -->}</code> <code>{<!-- -->n,<!-- -->}</code> <code>{<!-- -->n,m<!-- -->}</code></td><td align="left">量词</td><td align="left">3</td></tr><tr><td align="left"><code>^</code> <code>$</code></td><td align="left">起始结束位置</td><td align="left">2</td></tr><tr><td align="left"><code>|</code></td><td align="left">选择</td><td align="left">1</td></tr></tbody></table><p>由于括号的用途之一就是为量词限定作用范围，所以优先级比量词高。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">ab{2}</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abab&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token plain">ab</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abab&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span></div></pre></div><p>选择符 <code>|</code> 的优先级最低，比起始和结束位置都要低。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^ab|cd$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token plain">ab</span><span class="token operator">|</span><span class="token plain">cd</span><span class="token punctuation">)</span><span class="token plain">$</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// false</span></div></pre></div><h2 id="局限性"><a aria-hidden="true" tabindex="-1" href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule#局限性"><span class="icon icon-link"></span></a>局限性</h2><p>尽管 JavaScript 中的正则表达式功能比较完备，但与其他语言相比，缺少某些特性</p><p>下面列出了 JavaScript 正则表达式不支持的特性</p><ul><li>POSIX 字符组（只支持普通字符组和排除型字符组）</li><li>Unicode 支持（只支持单个 Unicode 字符）</li><li>匹配字符串开始和结尾的 <code>\A</code> 和 <code>\Z</code> 锚（只支持 <code>^</code> 和 <code>$</code>）</li><li>逆序环视（只支持顺序环视）</li><li>命名分组（只支持 0-9 编号的捕获组）</li><li>单行模式和注释模式（只支持 <code>m</code> 、<code>i</code>、<code>g</code>）</li><li>模式作用范围</li><li>纯文本模式</li></ul><hr/><p><strong>参考资料：</strong></p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html">正则表达式手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/standard-built-in-objects/text-processing/regexp/regexp-rule.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last update: ">8/4/2021 03:23:38</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.be499aec.js"></script>
  </body>
</html>
